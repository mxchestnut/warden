import{r as a,a as v,j as e}from"./index-BcQW7OjF.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};o.SENTRY_RELEASE={id:"9100b80d8d3578ae8a7e4dcad47fa28b1cb8d4d7"}}catch{}})();try{(function(){var o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},h=new o.Error().stack;h&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[h]="b6ad27c7-c4b2-427c-916c-b75d530b2d7b",o._sentryDebugIdIdentifier="sentry-dbid-b6ad27c7-c4b2-427c-916c-b75d530b2d7b")})()}catch{}function Q(){var L;const[o,h]=a.useState([]),[s,E]=a.useState(null),[l,j]=a.useState(null),[U,F]=a.useState([]),[H,C]=a.useState(!0),[y,R]=a.useState("gallery"),[b,B]=a.useState(""),[x,T]=a.useState(10),[u,W]=a.useState(""),[f,M]=a.useState(""),[c,I]=a.useState(0),[n,m]=a.useState(0),i=20,[z,N]=a.useState("text");a.useEffect(()=>{G(),O(),P()},[b,x,u,f,n]);const G=async()=>{try{C(!0);const r=new URLSearchParams({limit:i.toString(),offset:n.toString()});b&&r.append("character",b),x>0&&r.append("minStars",x.toString()),u&&r.append("startDate",u),f&&r.append("endDate",f);const t=await v.get(`/hall-of-fame/list?${r}`);h(t.data.messages),I(t.data.total)}catch(r){console.error("Failed to load Hall of Fame:",r)}finally{C(!1)}},O=async()=>{try{const r=await v.get("/hall-of-fame/characters");F(r.data.characters)}catch(r){console.error("Failed to load characters:",r)}},P=async()=>{try{const r=await v.get("/hall-of-fame/stats");E(r.data)}catch(r){console.error("Failed to load stats:",r)}},D=async()=>{try{const r=x>0?`?minStars=${x}`:"",t=await v.get(`/hall-of-fame/random${r}`);j(t.data.message)}catch(r){console.error("Failed to load random gem:",r)}},_=()=>{B(""),T(10),W(""),M(""),m(0)},Y=()=>{if(z==="text"){const r=o.map(d=>{const w=new Date(d.addedToHallAt).toLocaleDateString(),k=d.characterName||"Unknown";return`[${w}] ${k} (â­ ${d.starCount})
${d.content}

`}).join(`---

`),t=new Blob([r],{type:"text/plain"}),g=URL.createObjectURL(t),p=document.createElement("a");p.href=g,p.download=`hall-of-fame-${new Date().toISOString().split("T")[0]}.txt`,p.click(),URL.revokeObjectURL(g)}else{let r=`# Hall of Fame

`;o.forEach(d=>{const w=new Date(d.addedToHallAt).toLocaleDateString(),k=d.characterName||"Unknown";r+=`## ${k} - ${w}

`,r+=`**â­ ${d.starCount} stars**

`,r+=`> ${d.content}

`,d.contextMessages&&d.contextMessages.length>0&&(r+=`### Context

`,d.contextMessages.forEach($=>{r+=`- **${$.author}**: ${$.content}
`}),r+=`
`),r+=`---

`});const t=new Blob([r],{type:"text/markdown"}),g=URL.createObjectURL(t),p=document.createElement("a");p.href=g,p.download=`hall-of-fame-${new Date().toISOString().split("T")[0]}.md`,p.click(),URL.revokeObjectURL(g)}},A=r=>{const t=`"${r.content}"

â€” ${r.characterName||"Unknown"} (â­ ${r.starCount})`;navigator.clipboard.writeText(t),alert("Copied to clipboard!")},S=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return H&&o.length===0?e.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"Loading Hall of Fame..."}):e.jsxs("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"â­ Hall of Fame Gallery"}),e.jsx("p",{style:{color:"var(--text-secondary)"},children:"Epic moments with 10+ stars, immortalized forever"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem",display:"flex",gap:"0.5rem"},children:[e.jsx("button",{onClick:()=>R("gallery"),style:{padding:"0.5rem 1rem",background:y==="gallery"?"var(--primary-color)":"var(--bg-secondary)",color:y==="gallery"?"white":"var(--text-primary)",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"ðŸ–¼ï¸ Gallery"}),e.jsx("button",{onClick:()=>R("stats"),style:{padding:"0.5rem 1rem",background:y==="stats"?"var(--primary-color)":"var(--bg-secondary)",color:y==="stats"?"white":"var(--text-primary)",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Stats"})]}),y==="gallery"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"1.5rem",borderRadius:"8px",marginBottom:"2rem",border:"1px solid var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"flex-end"},children:[e.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Character"}),e.jsxs("select",{value:b,onChange:r=>{B(r.target.value),m(0)},style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)"},children:[e.jsx("option",{value:"",children:"All Characters"}),U.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{style:{flex:"1",minWidth:"150px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Min Stars"}),e.jsx("input",{type:"number",min:"0",value:x,onChange:r=>{T(parseInt(r.target.value)||0),m(0)},style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)"}})]}),e.jsxs("div",{style:{flex:"1",minWidth:"150px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Start Date"}),e.jsx("input",{type:"date",value:u,onChange:r=>{W(r.target.value),m(0)},style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)"}})]}),e.jsxs("div",{style:{flex:"1",minWidth:"150px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"End Date"}),e.jsx("input",{type:"date",value:f,onChange:r=>{M(r.target.value),m(0)},style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)"}})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{onClick:_,style:{padding:"0.5rem 1rem",background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",cursor:"pointer",whiteSpace:"nowrap"},children:"Clear"}),e.jsx("button",{onClick:D,style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",whiteSpace:"nowrap",fontWeight:"500"},children:"ðŸ’Ž Random Gem"})]})]}),e.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"1rem",alignItems:"center"},children:[e.jsx("label",{style:{fontWeight:"500"},children:"Export:"}),e.jsxs("select",{value:z,onChange:r=>N(r.target.value),style:{padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)"},children:[e.jsx("option",{value:"text",children:"Plain Text"}),e.jsx("option",{value:"markdown",children:"Markdown"})]}),e.jsxs("button",{onClick:Y,disabled:o.length===0,style:{padding:"0.5rem 1rem",background:o.length>0?"var(--success-color)":"var(--bg-tertiary)",color:"white",border:"none",borderRadius:"6px",cursor:o.length>0?"pointer":"not-allowed",fontWeight:"500"},children:["ðŸ“¥ Download (",o.length,")"]})]})]}),l&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem"},onClick:()=>j(null),children:e.jsxs("div",{style:{background:"var(--bg-primary)",padding:"2rem",borderRadius:"12px",maxWidth:"600px",width:"100%",border:"3px solid gold",boxShadow:"0 0 30px rgba(255, 215, 0, 0.3)"},onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"ðŸ’Ž Gem from the Vault"}),e.jsx("div",{style:{fontSize:"2rem",color:"gold"},children:"â­".repeat(Math.min(l.starCount,5))}),e.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:[l.starCount," stars"]})]}),e.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"1.5rem",borderRadius:"8px",marginBottom:"1rem",borderLeft:"4px solid gold"},children:[e.jsxs("p",{style:{fontSize:"1.1rem",lineHeight:"1.6",marginBottom:"1rem"},children:['"',l.content,'"']}),e.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",fontStyle:"italic"},children:["â€” ",l.characterName||"Unknown"]}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:S(l.addedToHallAt)})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[e.jsx("button",{onClick:()=>A(l),style:{padding:"0.5rem 1rem",background:"var(--primary-color)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"ðŸ“‹ Copy"}),e.jsx("button",{onClick:D,style:{padding:"0.5rem 1rem",background:"var(--success-color)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"ðŸ”„ Another"}),e.jsx("button",{onClick:()=>j(null),style:{padding:"0.5rem 1rem",background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",cursor:"pointer"},children:"Close"})]})]})}),e.jsxs("div",{style:{marginBottom:"1rem",color:"var(--text-secondary)"},children:["Showing ",o.length," of ",c," messages"]}),o.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem"},children:[e.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"â­"}),e.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"No Hall of Fame messages yet"}),e.jsx("p",{style:{color:"var(--text-secondary)"},children:"Star messages in Discord to see them here!"})]}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:o.map(r=>e.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"12px",padding:"1.5rem",position:"relative",transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="none"},children:[e.jsxs("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)",color:"#000",padding:"0.25rem 0.75rem",borderRadius:"20px",fontWeight:"bold",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.25rem"},children:["â­ ",r.starCount]}),e.jsx("div",{style:{marginBottom:"1rem",paddingRight:"4rem"},children:e.jsx("p",{style:{fontSize:"1rem",lineHeight:"1.6",marginBottom:"1rem"},children:r.content})}),e.jsxs("div",{style:{borderTop:"1px solid var(--border-color)",paddingTop:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",marginBottom:"0.25rem"},children:r.characterName||"Unknown"}),e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:S(r.addedToHallAt)})]}),r.contextMessages&&r.contextMessages.length>0&&e.jsxs("div",{style:{background:"var(--bg-tertiary)",padding:"0.75rem",borderRadius:"6px",fontSize:"0.85rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",fontSize:"0.75rem",textTransform:"uppercase",color:"var(--text-secondary)"},children:"Context"}),r.contextMessages.slice(0,2).map((t,g)=>e.jsxs("div",{style:{marginBottom:"0.5rem",paddingLeft:"0.5rem",borderLeft:"2px solid var(--border-color)"},children:[e.jsx("div",{style:{fontWeight:"500"},children:t.author}),e.jsxs("div",{style:{color:"var(--text-secondary)"},children:[t.content.substring(0,100),t.content.length>100?"...":""]})]},g))]}),e.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:e.jsx("button",{onClick:()=>A(r),style:{flex:1,padding:"0.5rem",background:"var(--primary-color)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500"},children:"ðŸ“‹ Copy Quote"})})]},r.id))}),c>i&&e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"0.5rem",marginTop:"2rem"},children:[e.jsx("button",{onClick:()=>m(Math.max(0,n-i)),disabled:n===0,style:{padding:"0.5rem 1rem",background:n===0?"var(--bg-tertiary)":"var(--primary-color)",color:n===0?"var(--text-secondary)":"white",border:"none",borderRadius:"6px",cursor:n===0?"not-allowed":"pointer"},children:"â† Previous"}),e.jsxs("div",{style:{padding:"0.5rem 1rem",color:"var(--text-secondary)"},children:["Page ",Math.floor(n/i)+1," of ",Math.ceil(c/i)]}),e.jsx("button",{onClick:()=>m(n+i),disabled:n+i>=c,style:{padding:"0.5rem 1rem",background:n+i>=c?"var(--bg-tertiary)":"var(--primary-color)",color:n+i>=c?"var(--text-secondary)":"white",border:"none",borderRadius:"6px",cursor:n+i>=c?"not-allowed":"pointer"},children:"Next â†’"})]})]}):e.jsx("div",{children:s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"1.5rem",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:s.totalMessages}),e.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Total Messages"})]}),e.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"1.5rem",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:s.totalStars}),e.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Total Stars"})]}),e.jsxs("div",{style:{background:"linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)",color:"#000",padding:"1.5rem",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:((L=s.topMessage)==null?void 0:L.starCount)||0}),e.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Highest Stars"})]})]}),s.topMessage&&e.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"1.5rem",borderRadius:"12px",marginBottom:"2rem",border:"2px solid gold"},children:[e.jsxs("h3",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:["ðŸ† Top Message (",s.topMessage.starCount," stars)"]}),e.jsxs("p",{style:{fontSize:"1.1rem",lineHeight:"1.6",marginBottom:"0.5rem"},children:['"',s.topMessage.content,'"']}),e.jsxs("div",{style:{color:"var(--text-secondary)",fontStyle:"italic"},children:["â€” ",s.topMessage.characterName||"Unknown"]})]}),e.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"1.5rem",borderRadius:"12px",marginBottom:"2rem",border:"1px solid var(--border-color)"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"Character Leaderboard"}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"2px solid var(--border-color)"},children:[e.jsx("th",{style:{textAlign:"left",padding:"0.75rem"},children:"Rank"}),e.jsx("th",{style:{textAlign:"left",padding:"0.75rem"},children:"Character"}),e.jsx("th",{style:{textAlign:"right",padding:"0.75rem"},children:"Messages"}),e.jsx("th",{style:{textAlign:"right",padding:"0.75rem"},children:"Total Stars"}),e.jsx("th",{style:{textAlign:"right",padding:"0.75rem"},children:"Avg Stars"})]})}),e.jsx("tbody",{children:s.characterStats.map((r,t)=>e.jsxs("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[e.jsx("td",{style:{padding:"0.75rem"},children:t===0?"ðŸ¥‡":t===1?"ðŸ¥ˆ":t===2?"ðŸ¥‰":`${t+1}`}),e.jsx("td",{style:{padding:"0.75rem",fontWeight:"600"},children:r.characterName}),e.jsx("td",{style:{padding:"0.75rem",textAlign:"right"},children:r.count}),e.jsxs("td",{style:{padding:"0.75rem",textAlign:"right"},children:["â­ ",r.totalStars]}),e.jsx("td",{style:{padding:"0.75rem",textAlign:"right"},children:(r.totalStars/r.count).toFixed(1)})]},r.characterName))})]})]}),e.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"1.5rem",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"ðŸ†• Recent Additions"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:s.recentAdditions.map(r=>e.jsxs("div",{style:{background:"var(--bg-tertiary)",padding:"1rem",borderRadius:"8px",borderLeft:"3px solid gold"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[e.jsx("div",{style:{fontWeight:"600"},children:r.characterName||"Unknown"}),e.jsxs("div",{style:{color:"gold",fontWeight:"bold"},children:["â­ ",r.starCount]})]}),e.jsxs("p",{style:{fontSize:"0.9rem",marginBottom:"0.5rem"},children:[r.content.substring(0,150),r.content.length>150?"...":""]}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:S(r.addedToHallAt)})]},r.id))})]})]})})]})}export{Q as default};
//# sourceMappingURL=HallOfFameGallery-DIVGufNH.js.map
