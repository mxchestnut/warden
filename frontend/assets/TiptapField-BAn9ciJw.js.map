{"version":3,"file":"TiptapField-BAn9ciJw.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/user.js","../../../node_modules/@tiptap/extension-placeholder/dist/index.js","../../../node_modules/@tiptap/extension-character-count/dist/index.js","../../src/components/TiptapField.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst User = createLucideIcon(\"User\", [\n  [\"path\", { d: \"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\", key: \"975kel\" }],\n  [\"circle\", { cx: \"12\", cy: \"7\", r: \"4\", key: \"17ys0d\" }]\n]);\n\nexport { User as default };\n//# sourceMappingURL=user.js.map\n","// src/index.ts\nimport { Placeholder } from \"@tiptap/extensions\";\nimport { Placeholder as Placeholder2 } from \"@tiptap/extensions\";\nvar index_default = Placeholder;\nexport {\n  Placeholder2 as Placeholder,\n  index_default as default\n};\n//# sourceMappingURL=index.js.map","// src/index.ts\nimport { CharacterCount } from \"@tiptap/extensions\";\nimport { CharacterCount as CharacterCount2 } from \"@tiptap/extensions\";\nvar index_default = CharacterCount;\nexport {\n  CharacterCount2 as CharacterCount,\n  index_default as default\n};\n//# sourceMappingURL=index.js.map","import { useEditor, EditorContent } from '@tiptap/react';\nimport StarterKit from '@tiptap/starter-kit';\nimport Placeholder from '@tiptap/extension-placeholder';\nimport CharacterCount from '@tiptap/extension-character-count';\nimport { useEffect } from 'react';\nimport './TiptapField.css';\n\ninterface TiptapFieldProps {\n  value: string;\n  onChange: (value: string) => void;\n  placeholder?: string;\n  maxLength?: number;\n  label?: string;\n  rows?: number;\n}\n\nexport default function TiptapField({\n  value,\n  onChange,\n  placeholder = 'Start typing...',\n  maxLength = 1024,\n  label,\n  rows = 4\n}: TiptapFieldProps) {\n  const editor = useEditor({\n    extensions: [\n      StarterKit.configure({\n        heading: false, // Disable headings for simplicity\n        codeBlock: false, // Disable code blocks\n      }),\n      Placeholder.configure({\n        placeholder,\n      }),\n      CharacterCount.configure({\n        limit: maxLength,\n      }),\n    ],\n    content: value,\n    onUpdate: ({ editor }) => {\n      const html = editor.getHTML();\n      // Only send updates if content actually changed\n      if (html !== value) {\n        onChange(html);\n      }\n    },\n    editorProps: {\n      attributes: {\n        class: 'tiptap-editor',\n        style: `min-height: ${rows * 1.5}rem`,\n      },\n    },\n  });\n\n  // Update editor content when value prop changes (e.g., loading new character)\n  useEffect(() => {\n    if (editor && value !== editor.getHTML()) {\n      editor.commands.setContent(value || '');\n    }\n  }, [value, editor]);\n\n  if (!editor) {\n    return null;\n  }\n\n  const characterCount = editor.storage.characterCount.characters();\n  const isNearLimit = characterCount > maxLength * 0.9;\n  const isOverLimit = characterCount > maxLength;\n\n  return (\n    <div className=\"tiptap-field\">\n      {label && <label className=\"tiptap-label\">{label}</label>}\n\n      <div className=\"tiptap-toolbar\">\n        <button\n          type=\"button\"\n          onClick={() => editor.chain().focus().toggleBold().run()}\n          className={editor.isActive('bold') ? 'is-active' : ''}\n          title=\"Bold (Ctrl+B)\"\n        >\n          <strong>B</strong>\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => editor.chain().focus().toggleItalic().run()}\n          className={editor.isActive('italic') ? 'is-active' : ''}\n          title=\"Italic (Ctrl+I)\"\n        >\n          <em>I</em>\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => editor.chain().focus().toggleStrike().run()}\n          className={editor.isActive('strike') ? 'is-active' : ''}\n          title=\"Strikethrough\"\n        >\n          <s>S</s>\n        </button>\n        <span className=\"toolbar-divider\">|</span>\n        <button\n          type=\"button\"\n          onClick={() => editor.chain().focus().toggleBulletList().run()}\n          className={editor.isActive('bulletList') ? 'is-active' : ''}\n          title=\"Bullet List\"\n        >\n          â€¢ List\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => editor.chain().focus().toggleOrderedList().run()}\n          className={editor.isActive('orderedList') ? 'is-active' : ''}\n          title=\"Numbered List\"\n        >\n          1. List\n        </button>\n        <span className=\"toolbar-divider\">|</span>\n        <button\n          type=\"button\"\n          onClick={() => editor.chain().focus().toggleBlockquote().run()}\n          className={editor.isActive('blockquote') ? 'is-active' : ''}\n          title=\"Quote\"\n        >\n          \" Quote\n        </button>\n      </div>\n\n      <EditorContent editor={editor} />\n\n      <div className={`character-count ${isNearLimit ? 'warning' : ''} ${isOverLimit ? 'error' : ''}`}>\n        {characterCount} / {maxLength} characters\n        {isOverLimit && <span className=\"error-text\"> (Over limit!)</span>}\n      </div>\n    </div>\n  );\n}\n"],"names":["User","createLucideIcon","index_default","Placeholder","CharacterCount","TiptapField","value","onChange","placeholder","maxLength","label","rows","editor","useEditor","StarterKit","html","useEffect","characterCount","isNearLimit","isOverLimit","jsxs","jsx","EditorContent"],"mappings":"ssBAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASK,MAACA,EAAOC,EAAiB,OAAQ,CACpC,CAAC,OAAQ,CAAE,EAAG,4CAA6C,IAAK,QAAQ,CAAE,EAC1E,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,IAAK,EAAG,IAAK,IAAK,QAAQ,CAAE,CACzD,CAAC,ECTD,IAAIC,EAAgBC,ECAhBD,EAAgBE,ECapB,SAAwBC,EAAY,CAClC,MAAAC,EACA,SAAAC,EACA,YAAAC,EAAc,kBACd,UAAAC,EAAY,KACZ,MAAAC,EACA,KAAAC,EAAO,CACT,EAAqB,CACnB,MAAMC,EAASC,EAAU,CACvB,WAAY,CACVC,EAAW,UAAU,CACnB,QAAS,GACT,UAAW,EAAA,CACZ,EACDX,EAAY,UAAU,CACpB,YAAAK,CAAA,CACD,EACDJ,EAAe,UAAU,CACvB,MAAOK,CAAA,CACR,CAAA,EAEH,QAASH,EACT,SAAU,CAAC,CAAE,OAAAM,KAAa,CACxB,MAAMG,EAAOH,EAAO,QAAA,EAEhBG,IAAST,GACXC,EAASQ,CAAI,CAEjB,EACA,YAAa,CACX,WAAY,CACV,MAAO,gBACP,MAAO,eAAeJ,EAAO,GAAG,KAAA,CAClC,CACF,CACD,EASD,GANAK,EAAAA,UAAU,IAAM,CACVJ,GAAUN,IAAUM,EAAO,QAAA,GAC7BA,EAAO,SAAS,WAAWN,GAAS,EAAE,CAE1C,EAAG,CAACA,EAAOM,CAAM,CAAC,EAEd,CAACA,EACH,OAAO,KAGT,MAAMK,EAAiBL,EAAO,QAAQ,eAAe,WAAA,EAC/CM,EAAcD,EAAiBR,EAAY,GAC3CU,EAAcF,EAAiBR,EAErC,OACEW,EAAAA,KAAC,MAAA,CAAI,UAAU,eACZ,SAAA,CAAAV,GAASW,EAAAA,IAAC,QAAA,CAAM,UAAU,eAAgB,SAAAX,EAAM,EAEjDU,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMT,EAAO,MAAA,EAAQ,QAAQ,WAAA,EAAa,IAAA,EACnD,UAAWA,EAAO,SAAS,MAAM,EAAI,YAAc,GACnD,MAAM,gBAEN,SAAAS,EAAAA,IAAC,UAAO,SAAA,GAAA,CAAC,CAAA,CAAA,EAEXA,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMT,EAAO,MAAA,EAAQ,QAAQ,aAAA,EAAe,IAAA,EACrD,UAAWA,EAAO,SAAS,QAAQ,EAAI,YAAc,GACrD,MAAM,kBAEN,SAAAS,EAAAA,IAAC,MAAG,SAAA,GAAA,CAAC,CAAA,CAAA,EAEPA,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMT,EAAO,MAAA,EAAQ,QAAQ,aAAA,EAAe,IAAA,EACrD,UAAWA,EAAO,SAAS,QAAQ,EAAI,YAAc,GACrD,MAAM,gBAEN,SAAAS,EAAAA,IAAC,KAAE,SAAA,GAAA,CAAC,CAAA,CAAA,EAENA,EAAAA,IAAC,OAAA,CAAK,UAAU,kBAAkB,SAAA,IAAC,EACnCA,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMT,EAAO,MAAA,EAAQ,QAAQ,iBAAA,EAAmB,IAAA,EACzD,UAAWA,EAAO,SAAS,YAAY,EAAI,YAAc,GACzD,MAAM,cACP,SAAA,QAAA,CAAA,EAGDS,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMT,EAAO,MAAA,EAAQ,QAAQ,kBAAA,EAAoB,IAAA,EAC1D,UAAWA,EAAO,SAAS,aAAa,EAAI,YAAc,GAC1D,MAAM,gBACP,SAAA,SAAA,CAAA,EAGDS,EAAAA,IAAC,OAAA,CAAK,UAAU,kBAAkB,SAAA,IAAC,EACnCA,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMT,EAAO,MAAA,EAAQ,QAAQ,iBAAA,EAAmB,IAAA,EACzD,UAAWA,EAAO,SAAS,YAAY,EAAI,YAAc,GACzD,MAAM,QACP,SAAA,SAAA,CAAA,CAED,EACF,EAEAS,MAACC,GAAc,OAAAV,EAAgB,EAE/BQ,EAAAA,KAAC,MAAA,CAAI,UAAW,mBAAmBF,EAAc,UAAY,EAAE,IAAIC,EAAc,QAAU,EAAE,GAC1F,SAAA,CAAAF,EAAe,MAAIR,EAAU,cAC7BU,GAAeE,EAAAA,IAAC,OAAA,CAAK,UAAU,aAAa,SAAA,gBAAA,CAAc,CAAA,CAAA,CAC7D,CAAA,EACF,CAEJ","x_google_ignoreList":[0,1,2]}