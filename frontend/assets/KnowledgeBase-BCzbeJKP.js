import{r as p,a as v,j as a}from"./index-BcQW7OjF.js";import{U as te,T as ne}from"./TiptapField-BAn9ciJw.js";import{c as z,B as ae,e as ie,T as le,X as oe}from"./Dashboard-CwAWU9Zg.js";import{T as se}from"./trending-up-CXH_J-YF.js";import{S as H}from"./sparkles-Bm9JvvY6.js";import{S as ce}from"./search-DSl6THef.js";import"./index-DAQtT9J5.js";import"./with-selector-BJfYQDNp.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"9100b80d8d3578ae8a7e4dcad47fa28b1cb8d4d7"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new e.Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="eaa4108f-2451-46fe-afc3-bbaf3c16a273",e._sentryDebugIdIdentifier="sentry-dbid-eaa4108f-2451-46fe-afc3-bbaf3c16a273")})()}catch{}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=z("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=z("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);function fe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}return e}function N(e,r){return Array(r+1).join(e)}function F(e){return e.replace(/^\n*/,"")}function W(e){for(var r=e.length;r>0&&e[r-1]===`
`;)r--;return e.substring(0,r)}function _(e){return W(F(e))}var me=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function B(e){return D(e,me)}var q=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function $(e){return D(e,q)}function pe(e){return G(e,q)}var V=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function ge(e){return D(e,V)}function he(e){return G(e,V)}function D(e,r){return r.indexOf(e.nodeName)>=0}function G(e,r){return e.getElementsByTagName&&r.some(function(t){return e.getElementsByTagName(t).length})}var d={};d.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};d.lineBreak={filter:"br",replacement:function(e,r,t){return t.br+`
`}};d.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,r,t){var n=Number(r.nodeName.charAt(1));if(t.headingStyle==="setext"&&n<3){var l=N(n===1?"=":"-",e.length);return`

`+e+`
`+l+`

`}else return`

`+N("#",n)+" "+e+`

`}};d.blockquote={filter:"blockquote",replacement:function(e){return e=_(e).replace(/^/gm,"> "),`

`+e+`

`}};d.list={filter:["ul","ol"],replacement:function(e,r){var t=r.parentNode;return t.nodeName==="LI"&&t.lastElementChild===r?`
`+e:`

`+e+`

`}};d.listItem={filter:"li",replacement:function(e,r,t){var n=t.bulletListMarker+"   ",l=r.parentNode;if(l.nodeName==="OL"){var o=l.getAttribute("start"),c=Array.prototype.indexOf.call(l.children,r);n=(o?Number(o)+c:c+1)+".  "}var u=/\n$/.test(e);return e=_(e)+(u?`
`:""),e=e.replace(/\n/gm,`
`+" ".repeat(n.length)),n+e+(r.nextSibling?`
`:"")}};d.indentedCodeBlock={filter:function(e,r){return r.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,r,t){return`

    `+r.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};d.fencedCodeBlock={filter:function(e,r){return r.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,r,t){for(var n=r.firstChild.getAttribute("class")||"",l=(n.match(/language-(\S+)/)||[null,""])[1],o=r.firstChild.textContent,c=t.fence.charAt(0),u=3,s=new RegExp("^"+c+"{3,}","gm"),m;m=s.exec(o);)m[0].length>=u&&(u=m[0].length+1);var g=N(c,u);return`

`+g+l+`
`+o.replace(/\n$/,"")+`
`+g+`

`}};d.horizontalRule={filter:"hr",replacement:function(e,r,t){return`

`+t.hr+`

`}};d.inlineLink={filter:function(e,r){return r.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,r){var t=r.getAttribute("href");t&&(t=t.replace(/([()])/g,"\\$1"));var n=k(r.getAttribute("title"));return n&&(n=' "'+n.replace(/"/g,'\\"')+'"'),"["+e+"]("+t+n+")"}};d.referenceLink={filter:function(e,r){return r.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,r,t){var n=r.getAttribute("href"),l=k(r.getAttribute("title"));l&&(l=' "'+l+'"');var o,c;switch(t.linkReferenceStyle){case"collapsed":o="["+e+"][]",c="["+e+"]: "+n+l;break;case"shortcut":o="["+e+"]",c="["+e+"]: "+n+l;break;default:var u=this.references.length+1;o="["+e+"]["+u+"]",c="["+u+"]: "+n+l}return this.references.push(c),o},references:[],append:function(e){var r="";return this.references.length&&(r=`

`+this.references.join(`
`)+`

`,this.references=[]),r}};d.emphasis={filter:["em","i"],replacement:function(e,r,t){return e.trim()?t.emDelimiter+e+t.emDelimiter:""}};d.strong={filter:["strong","b"],replacement:function(e,r,t){return e.trim()?t.strongDelimiter+e+t.strongDelimiter:""}};d.code={filter:function(e){var r=e.previousSibling||e.nextSibling,t=e.parentNode.nodeName==="PRE"&&!r;return e.nodeName==="CODE"&&!t},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var r=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",t="`",n=e.match(/`+/gm)||[];n.indexOf(t)!==-1;)t=t+"`";return t+r+e+r+t}};d.image={filter:"img",replacement:function(e,r){var t=k(r.getAttribute("alt")),n=r.getAttribute("src")||"",l=k(r.getAttribute("title")),o=l?' "'+l+'"':"";return n?"!["+t+"]("+n+o+")":""}};function k(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function Y(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var r in e.rules)this.array.push(e.rules[r])}Y.prototype={add:function(e,r){this.array.unshift(r)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var r;return(r=C(this.array,e,this.options))||(r=C(this._keep,e,this.options))||(r=C(this._remove,e,this.options))?r:this.defaultRule},forEach:function(e){for(var r=0;r<this.array.length;r++)e(this.array[r],r)}};function C(e,r,t){for(var n=0;n<e.length;n++){var l=e[n];if(ye(l,r,t))return l}}function ye(e,r,t){var n=e.filter;if(typeof n=="string"){if(n===r.nodeName.toLowerCase())return!0}else if(Array.isArray(n)){if(n.indexOf(r.nodeName.toLowerCase())>-1)return!0}else if(typeof n=="function"){if(n.call(e,r,t))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function ve(e){var r=e.element,t=e.isBlock,n=e.isVoid,l=e.isPre||function(x){return x.nodeName==="PRE"};if(!(!r.firstChild||l(r))){for(var o=null,c=!1,u=null,s=P(u,r,l);s!==r;){if(s.nodeType===3||s.nodeType===4){var m=s.data.replace(/[ \r\n\t]+/g," ");if((!o||/ $/.test(o.data))&&!c&&m[0]===" "&&(m=m.substr(1)),!m){s=A(s);continue}s.data=m,o=s}else if(s.nodeType===1)t(s)||s.nodeName==="BR"?(o&&(o.data=o.data.replace(/ $/,"")),o=null,c=!1):n(s)||l(s)?(o=null,c=!0):o&&(c=!1);else{s=A(s);continue}var g=P(u,s,l);u=s,s=g}o&&(o.data=o.data.replace(/ $/,""),o.data||A(o))}}function A(e){var r=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),r}function P(e,r,t){return e&&e.parentNode===r||t(r)?r.nextSibling||r.parentNode:r.firstChild||r.nextSibling||r.parentNode}var I=typeof window<"u"?window:{};function xe(){var e=I.DOMParser,r=!1;try{new e().parseFromString("","text/html")&&(r=!0)}catch{}return r}function be(){var e=function(){};return we()?e.prototype.parseFromString=function(r){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(r),t.close(),t}:e.prototype.parseFromString=function(r){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(r),t.close(),t},e}function we(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{I.ActiveXObject&&(e=!0)}return e}var ke=xe()?I.DOMParser:be();function je(e,r){var t;if(typeof e=="string"){var n=Se().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");t=n.getElementById("turndown-root")}else t=e.cloneNode(!0);return ve({element:t,isBlock:B,isVoid:$,isPre:r.preformattedCode?Ee:null}),t}var R;function Se(){return R=R||new ke,R}function Ee(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function Te(e,r){return e.isBlock=B(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=Ce(e),e.flankingWhitespace=Ae(e,r),e}function Ce(e){return!$(e)&&!ge(e)&&/^\s*$/i.test(e.textContent)&&!pe(e)&&!he(e)}function Ae(e,r){if(e.isBlock||r.preformattedCode&&e.isCode)return{leading:"",trailing:""};var t=Re(e.textContent);return t.leadingAscii&&U("left",e,r)&&(t.leading=t.leadingNonAscii),t.trailingAscii&&U("right",e,r)&&(t.trailing=t.trailingNonAscii),{leading:t.leading,trailing:t.trailing}}function Re(e){var r=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:r[1],leadingAscii:r[2],leadingNonAscii:r[3],trailing:r[4],trailingNonAscii:r[5],trailingAscii:r[6]}}function U(e,r,t){var n,l,o;return e==="left"?(n=r.previousSibling,l=/ $/):(n=r.nextSibling,l=/^ /),n&&(n.nodeType===3?o=l.test(n.nodeValue):t.preformattedCode&&n.nodeName==="CODE"?o=!1:n.nodeType===1&&!B(n)&&(o=l.test(n.textContent))),o}var Ne=Array.prototype.reduce,Be=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function j(e){if(!(this instanceof j))return new j(e);var r={rules:d,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(t,n){return n.isBlock?`

`:""},keepReplacement:function(t,n){return n.isBlock?`

`+n.outerHTML+`

`:n.outerHTML},defaultReplacement:function(t,n){return n.isBlock?`

`+t+`

`:t}};this.options=fe({},r,e),this.rules=new Y(this.options)}j.prototype={turndown:function(e){if(!Oe(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var r=K.call(this,new je(e,this.options));return De.call(this,r)},use:function(e){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.use(e[r]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,r){return this.rules.add(e,r),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return Be.reduce(function(r,t){return r.replace(t[0],t[1])},e)}};function K(e){var r=this;return Ne.call(e.childNodes,function(t,n){n=new Te(n,r.options);var l="";return n.nodeType===3?l=n.isCode?n.nodeValue:r.escape(n.nodeValue):n.nodeType===1&&(l=Ie.call(r,n)),X(t,l)},"")}function De(e){var r=this;return this.rules.forEach(function(t){typeof t.append=="function"&&(e=X(e,t.append(r.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Ie(e){var r=this.rules.forNode(e),t=K.call(this,e),n=e.flankingWhitespace;return(n.leading||n.trailing)&&(t=t.trim()),n.leading+r.replacement(t,e,this.options)+n.trailing}function X(e,r){var t=W(e),n=F(r),l=Math.max(e.length-t.length,r.length-n.length),o=`

`.substring(0,l);return t+o+n}function Oe(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}const Le=new j({headingStyle:"atx",codeBlockStyle:"fenced"});function qe(){const[e,r]=p.useState([]),[t,n]=p.useState(null),[l,o]=p.useState(""),[c,u]=p.useState(""),[s,m]=p.useState(!1),[g,x]=p.useState(!1),[Q,b]=p.useState(!1),[w,S]=p.useState(null),[Z,O]=p.useState(!0),[f,h]=p.useState({question:"",answerHtml:"",sourceUrl:"",category:""});p.useEffect(()=>{E(),T()},[l,c,s,g]);const E=async()=>{try{O(!0);const i={};l&&(i.search=l),c&&(i.category=c),s&&(i.aiGenerated="true"),g&&(i.aiGenerated="false");const y=await v.get("/knowledge-base",{params:i});r(y.data.entries)}catch(i){console.error("Error loading knowledge base:",i)}finally{O(!1)}},T=async()=>{try{const i=await v.get("/knowledge-base/stats");n(i.data)}catch(i){console.error("Error loading stats:",i)}},J=async i=>{i.preventDefault();try{const y=Le.turndown(f.answerHtml),M={question:f.question,answer:y,answerHtml:f.answerHtml,sourceUrl:f.sourceUrl,category:f.category};w?await v.put(`/knowledge-base/${w.id}`,M):await v.post("/knowledge-base",M),b(!1),S(null),h({question:"",answerHtml:"",sourceUrl:"",category:""}),E(),T()}catch(y){console.error("Error saving entry:",y),alert("Failed to save entry")}},ee=i=>{S(i),h({question:i.question,answerHtml:i.answerHtml||i.answer,sourceUrl:i.sourceUrl||"",category:i.category||""}),b(!0)},re=async i=>{if(confirm("Are you sure you want to delete this entry?"))try{await v.delete(`/knowledge-base/${i}`),E(),T()}catch(y){console.error("Error deleting entry:",y),alert("Failed to delete entry")}},L=()=>{b(!1),S(null),h({question:"",answerHtml:"",sourceUrl:"",category:""})};return a.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",background:"var(--bg-primary)"},children:[a.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--border-color)",background:"var(--bg-secondary)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(ae,{size:24,color:"var(--accent-primary)"}),a.jsx("h2",{style:{margin:0,color:"var(--text-primary)"},children:"Knowledge Base"})]}),a.jsxs("button",{onClick:()=>b(!0),style:{padding:"0.5rem 1rem",background:"var(--accent-color)",color:"var(--accent-text)",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"500"},children:[a.jsx(ie,{size:18}),"Add Entry"]})]}),t&&a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[a.jsxs("div",{style:{padding:"1rem",background:"var(--bg-primary)",borderRadius:"8px",border:"1px solid var(--border-color)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[a.jsx(se,{size:16,color:"var(--accent-primary)"}),a.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Total Entries"})]}),a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--text-primary)"},children:t.total})]}),a.jsxs("div",{style:{padding:"1rem",background:"var(--bg-primary)",borderRadius:"8px",border:"1px solid var(--border-color)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[a.jsx(H,{size:16,color:"var(--accent-secondary)"}),a.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"AI Generated"})]}),a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--text-primary)"},children:t.aiGenerated})]}),a.jsxs("div",{style:{padding:"1rem",background:"var(--bg-primary)",borderRadius:"8px",border:"1px solid var(--border-color)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[a.jsx(te,{size:16,color:"var(--accent-tertiary)"}),a.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Manual Entries"})]}),a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--text-primary)"},children:t.manual})]})]}),a.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[a.jsxs("div",{style:{flex:"1 1 300px",position:"relative"},children:[a.jsx(ce,{size:18,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),a.jsx("input",{type:"text",placeholder:"Search questions and answers...",value:l,onChange:i=>o(i.target.value),style:{width:"100%",padding:"0.5rem 0.75rem 0.5rem 2.5rem",border:"1px solid var(--border-color)",borderRadius:"6px",background:"var(--bg-primary)",color:"var(--text-primary)"}})]}),a.jsxs("select",{value:c,onChange:i=>u(i.target.value),style:{padding:"0.5rem 0.75rem",border:"1px solid var(--border-color)",borderRadius:"6px",background:"var(--bg-primary)",color:"var(--text-primary)",cursor:"pointer"},children:[a.jsx("option",{value:"",children:"All Categories"}),t==null?void 0:t.categories.map(i=>a.jsxs("option",{value:i.name,children:[i.name," (",i.count,")"]},i.name))]}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",color:"var(--text-primary)"},children:[a.jsx("input",{type:"checkbox",checked:s,onChange:i=>{m(i.target.checked),i.target.checked&&x(!1)}}),"AI Only"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",color:"var(--text-primary)"},children:[a.jsx("input",{type:"checkbox",checked:g,onChange:i=>{x(i.target.checked),i.target.checked&&m(!1)}}),"Manual Only"]})]})]})]}),a.jsx("div",{style:{flex:1,overflowY:"auto",padding:"1.5rem"},children:Z?a.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--text-secondary)"},children:"Loading..."}):e.length===0?a.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--text-secondary)"},children:"No entries found. Try adjusting your filters or add a new entry."}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:e.map(i=>a.jsxs("div",{style:{padding:"1.5rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"0.75rem"},children:[a.jsx("div",{style:{flex:1},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[a.jsx("h3",{style:{margin:0,color:"var(--text-primary)",fontSize:"1.125rem"},children:i.question}),i.aiGenerated&&a.jsxs("span",{style:{padding:"0.25rem 0.5rem",background:"var(--accent-secondary)",color:"white",fontSize:"0.75rem",borderRadius:"4px",display:"flex",alignItems:"center",gap:"0.25rem"},children:[a.jsx(H,{size:12}),"AI"]}),i.category&&a.jsxs("span",{style:{padding:"0.25rem 0.5rem",background:"var(--accent-tertiary)",color:"white",fontSize:"0.75rem",borderRadius:"4px",display:"flex",alignItems:"center",gap:"0.25rem"},children:[a.jsx(ue,{size:12}),i.category]})]})}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx("button",{onClick:()=>ee(i),style:{padding:"0.5rem",background:"var(--accent-color)",color:"var(--accent-text)",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center"},title:"Edit",children:a.jsx(de,{size:16})}),a.jsx("button",{onClick:()=>re(i.id),style:{padding:"0.5rem",background:"#dc2626",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center"},title:"Delete",children:a.jsx(le,{size:16})})]})]}),a.jsx("div",{style:{margin:"0 0 0.75rem 0",color:"var(--text-primary)",lineHeight:"1.6"},dangerouslySetInnerHTML:{__html:i.answerHtml||i.answer}}),i.sourceUrl&&a.jsx("a",{href:i.sourceUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--accent-primary)",fontSize:"0.875rem",textDecoration:"none"},children:"Source Link â†’"}),a.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid var(--border-color)",fontSize:"0.75rem",color:"var(--text-secondary)"},children:["Added ",new Date(i.createdAt).toLocaleDateString()]})]},i.id))})}),Q&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:a.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[a.jsx("h3",{style:{margin:0,color:"var(--text-primary)"},children:w?"Edit Entry":"New Entry"}),a.jsx("button",{onClick:L,style:{background:"none",border:"none",cursor:"pointer",padding:"0.5rem",color:"var(--text-secondary)"},children:a.jsx(oe,{size:20})})]}),a.jsxs("form",{onSubmit:J,children:[a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-primary)",fontWeight:"500"},children:"Question *"}),a.jsx("input",{type:"text",required:!0,value:f.question,onChange:i=>h({...f,question:i.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-primary)",color:"var(--text-primary)"}})]}),a.jsx("div",{style:{marginBottom:"1rem"},children:a.jsx(ne,{label:"Answer *",value:f.answerHtml,onChange:i=>h({...f,answerHtml:i}),placeholder:"Enter the answer with rich formatting...",maxLength:1e4,rows:10})}),a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-primary)",fontWeight:"500"},children:"Category"}),a.jsx("input",{type:"text",value:f.category,onChange:i=>h({...f,category:i.target.value}),placeholder:"e.g., Rules, Lore, Character Creation",style:{width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-primary)",color:"var(--text-primary)"}})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-primary)",fontWeight:"500"},children:"Source URL"}),a.jsx("input",{type:"url",value:f.sourceUrl,onChange:i=>h({...f,sourceUrl:i.target.value}),placeholder:"https://...",style:{width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-primary)",color:"var(--text-primary)"}})]}),a.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[a.jsx("button",{type:"button",onClick:L,style:{padding:"0.5rem 1rem",background:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),a.jsx("button",{type:"submit",style:{padding:"0.5rem 1rem",background:"var(--accent-color)",color:"var(--accent-text)",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:w?"Save Changes":"Add Entry"})]})]})]})})]})}export{qe as default};
//# sourceMappingURL=KnowledgeBase-BCzbeJKP.js.map
