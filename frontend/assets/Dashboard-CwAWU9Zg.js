const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Editor-CnvozhSP.js","assets/index-BcQW7OjF.js","assets/index-Wty0ggxc.css","assets/index-DAQtT9J5.js","assets/with-selector-BJfYQDNp.js","assets/list-Cf5cEqwx.js","assets/FileManager-v2GMjy71.js","assets/search-DSl6THef.js","assets/eye-ievLpwcm.js","assets/CharacterBio-DaA3Sop7.js","assets/TiptapField-BAn9ciJw.js","assets/TiptapField-e9KCLXnF.css","assets/target-CVL8TlOV.js","assets/save-DRJRgEBj.js","assets/users-BQ9DKwfh.js","assets/trending-up-CXH_J-YF.js","assets/CharacterMemories-Cv9GziCu.js","assets/CharacterAnalytics-nNoHwjHR.js","assets/clock-kITb3aED.js","assets/DiscordCommands-Co4uvjOb.js","assets/sparkles-Bm9JvvY6.js","assets/KnowledgeBase-BCzbeJKP.js","assets/PromptsTropes-CGit5AJU.js","assets/StatsDashboard-DzcG_mmg.js","assets/HallOfFameGallery-DIVGufNH.js","assets/AdminPanel-UQl3ijnN.js","assets/DiscordBotInvite-CxE2KP8J.js"])))=>i.map(i=>d[i]);
import{r as t,a as h,j as e,u as rr,b as tr,_ as L}from"./index-BcQW7OjF.js";(function(){try{var l=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};l.SENTRY_RELEASE={id:"9100b80d8d3578ae8a7e4dcad47fa28b1cb8d4d7"}}catch{}})();try{(function(){var l=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},I=new l.Error().stack;I&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[I]="512dde66-1c86-4eb5-95e4-943cf9474296",l._sentryDebugIdIdentifier="sentry-dbid-512dde66-1c86-4eb5-95e4-943cf9474296")})()}catch{}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ar={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),c=(l,I)=>{const R=t.forwardRef(({color:i="currentColor",size:j=24,strokeWidth:A=2,absoluteStrokeWidth:b,className:f="",children:a,...k},O)=>t.createElement("svg",{ref:O,...ar,width:j,height:j,stroke:i,strokeWidth:b?Number(A)*24/Number(j):A,className:["lucide",`lucide-${or(l)}`,f].join(" "),...k},[...I.map(([m,J])=>t.createElement(m,J)),...Array.isArray(a)?a:[a]]));return R.displayName=`${l}`,R};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=c("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=c("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=c("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=c("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=c("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=c("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=c("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=c("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=c("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=c("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=c("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=c("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=c("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=c("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=c("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=c("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=c("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=c("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=c("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=c("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=c("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=c("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=c("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=c("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=c("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=c("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=c("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=c("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=c("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=c("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=c("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=c("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function vr({documents:l,onSelectDocument:I,onSelectCharacter:R,onRefresh:i,currentDocument:j,currentCharacter:A,user:b,onShowFileManager:f,onShowKnowledgeBase:a,onShowStats:k,onShowSettings:O,onShowDiscordCommands:m,onShowPromptsTropes:J,onShowHallOfFame:B,onShowAdminPanel:oe,onShowBotInvite:D,onLogout:se,theme:g,toggleTheme:C}){const[w,Y]=t.useState(""),[z,U]=t.useState(null),[T,le]=t.useState([]),[n,x]=t.useState(""),[d,M]=t.useState(!1),[K,_]=t.useState([]),[Z,$]=t.useState(!1),[W,N]=t.useState(!1),[je,H]=t.useState(null),[ke,ne]=t.useState(!1),[G,ie]=t.useState(""),[E,xe]=t.useState(!1),[ue,o]=t.useState(!1),[s,S]=t.useState(""),[u,ce]=t.useState(!1),[X,Q]=t.useState(!0),[P,ee]=t.useState(!0),[we,Be]=t.useState(!1),[Se,Ce]=t.useState(!1),[ye,re]=t.useState(!1),[ge,de]=t.useState(!1);t.useEffect(()=>{te()},[]);const te=async()=>{try{const r=await h.get("/characters");le(r.data)}catch(r){console.error("Error loading characters:",r)}},ze=async()=>{var r,p;$(!0);try{const v=await h.get("/pathcompanion/characters");_(v.data.characters||[])}catch(v){console.error("Failed to load PathCompanion characters:",v);const y=((p=(r=v.response)==null?void 0:r.data)==null?void 0:p.error)||"Failed to load characters.";y.includes("connect your PathCompanion account in Settings")?alert("Please connect your PathCompanion account in Settings first."):alert(y)}finally{$(!1)}},De=async(r,p)=>{var v,y,V,ae,Pe,Ee,Fe,Le,_e,Ne;N(!0),H(r);try{const q=await h.post("/pathcompanion/import",{characterId:r,mergeWithId:p});te();const Te=((v=q.data._meta)==null?void 0:v.message)||"Successfully imported character!";alert(`‚úì ${Te}`)}catch(q){if(console.error("Failed to import PathCompanion character:",q),console.log("Error details:",{status:(y=q.response)==null?void 0:y.status,data:(V=q.response)==null?void 0:V.data,hasConflict:(Pe=(ae=q.response)==null?void 0:ae.data)==null?void 0:Pe.conflict}),((Ee=q.response)==null?void 0:Ee.status)===409&&((Le=(Fe=q.response)==null?void 0:Fe.data)!=null&&Le.conflict)){const pe=q.response.data;if(window.confirm(`${pe.message}

Existing character: ${pe.existingCharacter.name} (Level ${pe.existingCharacter.level} ${pe.existingCharacter.characterClass||"N/A"})

Click OK to merge PathCompanion data into this character, or Cancel to create a separate character.`)){N(!1),H(null),await De(r,pe.existingCharacter.id);return}alert("Import cancelled. The character was not imported."),N(!1),H(null);return}const Te=((Ne=(_e=q.response)==null?void 0:_e.data)==null?void 0:Ne.error)||"Failed to import character.";alert(Te)}finally{N(!1),H(null)}},Ye=async()=>{var r,p;if(confirm(`Import all ${K.length} characters from PathCompanion?`)){N(!0);try{await h.post("/pathcompanion/import-all"),te(),M(!1),alert("Successfully imported all characters!")}catch(v){console.error("Failed to import all PathCompanion characters:",v);const y=((p=(r=v.response)==null?void 0:r.data)==null?void 0:p.error)||"Failed to import characters.";alert(y)}finally{N(!1)}}},Ke=async()=>{const r=G.split(/[,\n]/).map(y=>y.trim()).filter(y=>y.length>0);if(r.length===0){alert("Please enter at least one character name");return}if(!confirm(`Create ${r.length} character${r.length>1?"s":""}?`))return;xe(!0);let p=0,v=0;for(const y of r)try{await h.post("/characters",{name:y,level:1,characterClass:"",race:"",alignment:"",strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10}),p++}catch(V){console.error(`Failed to create ${y}:`,V),v++}xe(!1),ie(""),ne(!1),await te(),alert(`Created ${p} character${p!==1?"s":""}${v>0?`, ${v} failed`:""}!`)},Ze=async()=>{var r,p,v;if(!s.trim()){alert("Please paste your Tupperbox JSON data");return}try{ce(!0);const y=JSON.parse(s),V=Array.isArray(y)?y:y.tuppers;if(!V||!Array.isArray(V)){alert("Invalid Tupperbox JSON format. Expected an array of tuppers.");return}const ae=await h.post("/characters/import-tupperbox",{tuppers:V});ae.data.success&&(alert(`Successfully imported ${ae.data.imported} character(s)!${ae.data.failed>0?`
${ae.data.failed} failed.`:""}`),S(""),o(!1),te())}catch(y){console.error("Failed to import Tupperbox data:",y),(r=y.message)!=null&&r.includes("JSON")?alert("Invalid JSON format. Please make sure you copied the entire Tupperbox export."):alert(((v=(p=y.response)==null?void 0:p.data)==null?void 0:v.error)||"Failed to import Tupperbox characters")}finally{ce(!1)}},Ge=async()=>{if(w)try{await h.post("/documents/folder",{name:w}),Y(""),U(null),i()}catch(r){console.error("Error creating folder:",r)}},Xe=async()=>{if(w)try{await h.post("/documents/document",{name:w,content:""}),Y(""),U(null),i()}catch(r){console.error("Error creating document:",r)}},Qe=async r=>{var y;const p=(y=r.target.files)==null?void 0:y[0];if(!p)return;const v=new FormData;v.append("file",p);try{await h.post("/documents/upload",v,{headers:{"Content-Type":"multipart/form-data"}}),i()}catch(V){console.error("Error uploading file:",V)}},er=async(r,p)=>{if(p.stopPropagation(),!!confirm("Are you sure you want to delete this item?"))try{await h.delete(`/documents/${r}`),i()}catch(v){console.error("Error deleting:",v)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{position:"fixed",top:0,left:0,bottom:0,width:"300px",background:"var(--bg-secondary)",borderRight:"2px solid var(--border-color)",display:"flex",flexDirection:"column",zIndex:1e3,overflowY:"auto"},children:[e.jsx("div",{style:{padding:"1.5rem 1rem",borderBottom:"1px solid var(--border-color)"},children:e.jsxs("h2",{style:{color:"var(--text-primary)",margin:0,fontSize:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(Oe,{size:24,style:{color:"var(--accent-1)"}}),"Warden"]})}),e.jsxs("div",{style:{borderBottom:"1px solid var(--border-color)"},children:[e.jsxs("div",{onClick:()=>{Q(!X),X||k()},style:{padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",background:X?"var(--accent-1)":"transparent"},children:[e.jsxs("h3",{style:{margin:0,color:"var(--text-primary)",fontSize:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[X?e.jsx(he,{size:18}):e.jsx(fe,{size:18}),e.jsx(Re,{size:18}),"Characters"]}),e.jsx("button",{onClick:r=>{r.stopPropagation(),re(!ye),de(!1)},style:{padding:"0.25rem",borderRadius:"4px",border:"none",background:ye?"var(--accent-color)":"var(--bg-tertiary)",color:ye?"white":"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",position:"relative",zIndex:10},title:"Character actions",children:e.jsx(He,{size:14})})]}),ye&&e.jsxs("div",{style:{position:"absolute",top:"3rem",right:"0.5rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,minWidth:"200px",overflow:"hidden"},children:[e.jsxs("button",{onClick:async()=>{const r=prompt("Enter character name:");if(!(!r||!r.trim())){try{const p=await h.post("/characters",{name:r.trim(),level:1,characterClass:"",race:"",alignment:"",strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10});R(p.data),await te()}catch(p){console.error("Failed to create character:",p)}Q(!0),re(!1)}},style:{width:"100%",padding:"0.75rem 1rem",border:"none",background:"transparent",color:"var(--text-primary)",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},onMouseEnter:r=>r.currentTarget.style.background="var(--bg-tertiary)",onMouseLeave:r=>r.currentTarget.style.background="transparent",children:[e.jsx(ve,{size:16}),"Create Character"]}),e.jsxs("button",{onClick:()=>{ne(!0),re(!1)},style:{width:"100%",padding:"0.75rem 1rem",border:"none",background:"transparent",color:"var(--text-primary)",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},onMouseEnter:r=>r.currentTarget.style.background="var(--bg-tertiary)",onMouseLeave:r=>r.currentTarget.style.background="transparent",children:[e.jsx(ve,{size:16}),"Bulk Create"]}),e.jsxs("button",{onClick:()=>{console.log("Import character(s) menu item clicked"),M(!0),ze(),re(!1)},style:{width:"100%",padding:"0.75rem 1rem",border:"none",background:"transparent",color:"var(--text-primary)",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},onMouseEnter:r=>r.currentTarget.style.background="var(--bg-tertiary)",onMouseLeave:r=>r.currentTarget.style.background="transparent",children:[e.jsx(lr,{size:16}),"Import Character(s)"]}),e.jsxs("button",{onClick:()=>{o(!0),re(!1)},style:{width:"100%",padding:"0.75rem 1rem",border:"none",background:"transparent",color:"var(--text-primary)",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},onMouseEnter:r=>r.currentTarget.style.background="var(--bg-tertiary)",onMouseLeave:r=>r.currentTarget.style.background="transparent",children:[e.jsx(Ve,{size:16}),"Import from Tupperbox"]}),e.jsxs("button",{onClick:()=>{console.log("Sync characters menu item clicked"),te(),re(!1)},style:{width:"100%",padding:"0.75rem 1rem",border:"none",background:"transparent",color:"var(--text-primary)",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},onMouseEnter:r=>r.currentTarget.style.background="var(--bg-tertiary)",onMouseLeave:r=>r.currentTarget.style.background="transparent",children:[e.jsx(Ie,{size:16}),"Sync Characters"]})]}),X&&e.jsxs("div",{style:{padding:"0 1rem 1rem 1rem"},children:[T.length>10&&e.jsx("input",{type:"text",placeholder:"Search characters...",value:n,onChange:r=>x(r.target.value),style:{width:"100%",padding:"0.5rem",marginBottom:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"0.85rem"}}),e.jsx("div",{style:{maxHeight:"200px",overflow:"auto"},children:T.length===0?e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",fontStyle:"italic"},children:"No characters yet"}):T.filter(r=>r.name.toLowerCase().includes(n.toLowerCase())).sort((r,p)=>r.name.localeCompare(p.name)).map(r=>e.jsx("div",{onClick:()=>{R(r)},style:{padding:"0.5rem",borderRadius:"4px",background:(A==null?void 0:A.id)===r.id?"var(--accent-2)":"var(--bg-primary)",marginBottom:"0.25rem",color:"var(--text-primary)",fontSize:"0.9rem",border:"1px solid var(--border-color)",cursor:"pointer"},children:e.jsx("div",{style:{fontWeight:500},children:r.name})},r.id))})]})]}),e.jsxs("div",{style:{borderBottom:"1px solid var(--border-color)",position:"relative"},children:[e.jsxs("div",{onClick:()=>{ee(!P),P||f()},style:{padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",background:P?"var(--accent-1)":"transparent",borderBottom:"1px solid var(--border-color)"},children:[e.jsxs("h3",{style:{margin:0,color:"var(--text-primary)",fontSize:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[P?e.jsx(he,{size:18}):e.jsx(fe,{size:18}),e.jsx($e,{size:18}),"File Manager"]}),e.jsx("button",{onClick:r=>{r.stopPropagation(),de(!ge),re(!1)},style:{padding:"0.25rem",borderRadius:"4px",border:"none",background:ge?"var(--accent-color)":"var(--bg-tertiary)",color:ge?"white":"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",position:"relative",zIndex:10},title:"File manager actions",children:e.jsx(He,{size:14})})]}),ge&&e.jsxs("div",{style:{position:"absolute",top:"3rem",right:"0.5rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,minWidth:"200px",overflow:"hidden"},children:[e.jsxs("button",{onClick:()=>{U("folder"),ee(!0),de(!1)},style:{width:"100%",padding:"0.75rem 1rem",border:"none",background:"transparent",color:"var(--text-primary)",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},onMouseEnter:r=>r.currentTarget.style.background="var(--bg-tertiary)",onMouseLeave:r=>r.currentTarget.style.background="transparent",children:[e.jsx(pr,{size:16}),"Create Folder"]}),e.jsxs("button",{onClick:()=>{U("document"),ee(!0),de(!1)},style:{width:"100%",padding:"0.75rem 1rem",border:"none",background:"transparent",color:"var(--text-primary)",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},onMouseEnter:r=>r.currentTarget.style.background="var(--bg-tertiary)",onMouseLeave:r=>r.currentTarget.style.background="transparent",children:[e.jsx(ve,{size:16}),"Create Document"]}),e.jsxs("label",{style:{width:"100%",padding:"0.75rem 1rem",border:"none",background:"transparent",color:"var(--text-primary)",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",margin:0},onMouseEnter:r=>r.currentTarget.style.background="var(--bg-tertiary)",onMouseLeave:r=>r.currentTarget.style.background="transparent",children:[e.jsx(Ve,{size:16}),"Upload File",e.jsx("input",{type:"file",onChange:r=>{Qe(r),de(!1)},style:{display:"none"}})]})]}),P&&z&&e.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid var(--border-color)"},children:[e.jsx("input",{type:"text",value:w,onChange:r=>Y(r.target.value),placeholder:`New ${z} name`,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)",marginBottom:"0.5rem"},autoFocus:!0}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{onClick:z==="folder"?Ge:Xe,style:{flex:1,padding:"0.5rem",borderRadius:"4px",border:"none",background:"var(--accent-color)",color:"white",cursor:"pointer"},children:"Create"}),e.jsx("button",{onClick:()=>{U(null),Y("")},style:{flex:1,padding:"0.5rem",borderRadius:"4px",border:"1px solid var(--border-color)",background:"transparent",color:"var(--text-primary)",cursor:"pointer"},children:"Cancel"})]})]}),P&&e.jsx("div",{style:{flex:1,overflow:"auto",padding:"0.5rem"},children:l.map(r=>e.jsxs("div",{onClick:()=>{I(r)},style:{padding:"0.75rem",borderRadius:"4px",cursor:"pointer",background:(j==null?void 0:j.id)===r.id?"var(--accent-2)":"transparent",marginBottom:"0.25rem",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",color:"var(--text-primary)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flex:1,minWidth:0},children:[r.isFolder?e.jsx(mr,{size:16}):e.jsx($e,{size:16}),e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.name})]}),e.jsx("button",{onClick:p=>er(r.id,p),style:{padding:"0.25rem",borderRadius:"3px",border:"none",background:"transparent",color:"#c74444",cursor:"pointer",display:"flex",alignItems:"center"},children:e.jsx(hr,{size:14})})]},r.id))})]}),e.jsx("div",{style:{borderBottom:"1px solid var(--border-color)"},children:e.jsxs("button",{onClick:()=>a(),style:{width:"100%",padding:"1rem",borderRadius:"0",border:"none",background:"transparent",color:"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",textAlign:"left"},children:[e.jsx(nr,{size:18}),"Knowledge Base"]})}),e.jsx("div",{style:{borderBottom:"1px solid var(--border-color)"},children:e.jsxs("button",{onClick:()=>J(),style:{width:"100%",padding:"1rem",borderRadius:"0",border:"none",background:"transparent",color:"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",textAlign:"left"},children:[e.jsx(Re,{size:18}),"Prompts & Tropes"]})}),e.jsx("div",{style:{borderBottom:"1px solid var(--border-color)"},children:e.jsxs("button",{onClick:()=>B(),style:{width:"100%",padding:"1rem",borderRadius:"0",border:"none",background:"transparent",color:"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",textAlign:"left"},children:[e.jsx(fr,{size:18}),"Hall of Fame"]})}),e.jsxs("div",{style:{marginTop:"auto",borderTop:"2px solid var(--border-color)"},children:[e.jsxs("div",{onClick:()=>Be(!we),style:{padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",background:"var(--bg-primary)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(xr,{size:18}),e.jsx("span",{style:{fontWeight:500,color:"var(--text-primary)",fontSize:"1rem"},children:"Help"})]}),we?e.jsx(he,{size:18}):e.jsx(fe,{size:18})]}),we&&e.jsxs("div",{style:{padding:"0.5rem 1rem 1rem 1rem"},children:[e.jsxs("button",{onClick:()=>{m(),Be(!1)},style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"none",background:"var(--bg-tertiary)",color:"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",textAlign:"left"},children:[e.jsx(ur,{size:18}),"Discord Commands"]}),e.jsxs("button",{onClick:()=>{D()},style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"none",background:"var(--bg-tertiary)",color:"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",marginTop:"0.5rem",textAlign:"left"},children:[e.jsx(Oe,{size:18}),"Discord Bots"]})]})]}),e.jsxs("div",{style:{borderTop:"1px solid var(--border-color)"},children:[e.jsxs("div",{onClick:()=>Ce(!Se),style:{padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",background:"var(--bg-primary)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(Ae,{size:18}),e.jsx("span",{style:{fontWeight:500,color:"var(--text-primary)",fontSize:"1rem"},children:b.username})]}),Se?e.jsx(he,{size:18}):e.jsx(fe,{size:18})]}),Se&&e.jsxs("div",{style:{padding:"0.5rem 1rem 1rem 1rem"},children:[e.jsxs("button",{onClick:()=>{O(),Ce(!1)},style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"none",background:"var(--bg-tertiary)",color:"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",marginBottom:"0.5rem",textAlign:"left"},children:[e.jsx(Ae,{size:18}),"Settings"]}),(b==null?void 0:b.isAdmin)&&e.jsx("button",{onClick:()=>{oe(),Ce(!1)},style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"none",background:"var(--bg-tertiary)",color:"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",marginBottom:"0.5rem",textAlign:"left"},children:"üõ°Ô∏è Admin Panel"}),e.jsxs("button",{onClick:C,style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"none",background:"var(--bg-tertiary)",color:"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",marginBottom:"0.5rem",textAlign:"left"},children:[g==="light"?e.jsx(Ue,{size:18}):e.jsx(Je,{size:18}),g==="light"?"Dark Mode":"Light Mode"]}),e.jsxs("button",{onClick:se,style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"none",background:"var(--accent-color)",color:"var(--accent-text)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",fontWeight:500,textAlign:"left"},children:[e.jsx(qe,{size:18}),"Logout"]})]})]})]}),d&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:e.jsxs("div",{style:{background:"var(--bg-primary)",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflow:"auto",border:"2px solid var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsxs("h2",{style:{margin:0,color:"var(--text-primary)"},children:[e.jsx(cr,{size:24,style:{verticalAlign:"middle",marginRight:"0.5rem"}}),"Import from PathCompanion"]}),e.jsx("button",{onClick:()=>M(!1),style:{background:"transparent",border:"none",color:"var(--text-primary)",cursor:"pointer",padding:"0.5rem"},children:e.jsx(me,{size:24})})]}),Z?e.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center"},children:"Loading characters..."}):K.length===0?e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1rem"},children:"No PathCompanion characters found. Make sure you've connected your PathCompanion account in Settings."}),e.jsxs("button",{onClick:()=>ze(),style:{padding:"0.5rem 1rem",background:"var(--accent-color)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(Ie,{size:16}),"Try Again"]})]}):e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx("button",{onClick:()=>Ye(),disabled:W,style:{padding:"0.75rem 1.5rem",background:"var(--accent-color)",color:"white",border:"none",borderRadius:"4px",cursor:W?"not-allowed":"pointer",opacity:W?.5:1,flex:1,fontWeight:600},children:W?"Importing All...":`Import All (${K.length})`}),e.jsx("button",{onClick:()=>ze(),disabled:Z,style:{padding:"0.75rem 1rem",background:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",cursor:Z?"not-allowed":"pointer",opacity:Z?.5:1,display:"flex",alignItems:"center",gap:"0.5rem"},title:"Refresh list",children:e.jsx(Ie,{size:16})})]}),K.map(r=>e.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--border-color)",borderRadius:"4px",marginBottom:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"var(--bg-secondary)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,color:"var(--text-primary)",marginBottom:"0.25rem"},children:r.name}),r.lastModified&&e.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:["Last modified: ",new Date(r.lastModified).toLocaleDateString()]})]}),e.jsx("button",{onClick:()=>De(r.id),disabled:W,style:{padding:"0.5rem 1rem",background:"var(--accent-color)",color:"white",border:"none",borderRadius:"4px",cursor:W?"not-allowed":"pointer",opacity:W?.5:1},children:je===r.id?"Importing...":"Import"})]},r.id))]})]})}),ke&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:e.jsxs("div",{style:{background:"var(--bg-primary)",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"500px",border:"2px solid var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsxs("h2",{style:{margin:0,color:"var(--text-primary)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(ve,{size:24}),"Bulk Create Characters"]}),e.jsx("button",{onClick:()=>{ne(!1),ie("")},style:{background:"transparent",border:"none",color:"var(--text-primary)",cursor:"pointer",padding:"0.5rem"},children:e.jsx(me,{size:24})})]}),e.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1rem",fontSize:"0.9rem"},children:"Enter character names, one per line or separated by commas. Characters will be created with default stats - you can add details later."}),e.jsx("textarea",{value:G,onChange:r=>ie(r.target.value),placeholder:`Aragorn
Legolas, Gimli
Frodo
Sam`,style:{width:"100%",minHeight:"200px",padding:"0.75rem",borderRadius:"6px",border:"1px solid var(--border-color)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.95rem",resize:"vertical",fontFamily:"inherit",marginBottom:"1rem"}}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:()=>{ne(!1),ie("")},disabled:E,style:{padding:"0.5rem 1rem",background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"none",borderRadius:"6px",cursor:E?"not-allowed":"pointer",opacity:E?.5:1},children:"Cancel"}),e.jsx("button",{onClick:Ke,disabled:E||!G.trim(),style:{padding:"0.5rem 1rem",background:E||!G.trim()?"var(--bg-tertiary)":"var(--accent-color)",color:E||!G.trim()?"var(--text-secondary)":"white",border:"none",borderRadius:"6px",cursor:E||!G.trim()?"not-allowed":"pointer",fontWeight:500},children:E?"Creating...":"Create Characters"})]})]})}),ue&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},children:e.jsxs("div",{style:{background:"var(--bg-primary)",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsx("h2",{style:{margin:0,color:"var(--text-primary)",fontSize:"1.5rem"},children:"Import from Tupperbox"}),e.jsx("button",{onClick:()=>{o(!1),S("")},disabled:u,style:{background:"none",border:"none",color:"var(--text-secondary)",cursor:u?"not-allowed":"pointer",padding:"0.25rem",opacity:u?.5:1},children:e.jsx(me,{size:24})})]}),e.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"var(--bg-secondary)",borderRadius:"6px"},children:[e.jsx("p",{style:{margin:"0 0 0.5rem 0",color:"var(--text-primary)",fontWeight:500},children:"How to export from Tupperbox:"}),e.jsxs("ol",{style:{margin:0,paddingLeft:"1.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:[e.jsxs("li",{children:["In Discord, use the command ",e.jsx("code",{style:{background:"var(--bg-tertiary)",padding:"2px 6px",borderRadius:"3px"},children:"tul!export"})]}),e.jsx("li",{children:"Tupperbox will send you a JSON file"}),e.jsx("li",{children:"Open the file and copy all the contents"}),e.jsx("li",{children:"Paste the JSON data below"})]})]}),e.jsx("textarea",{value:s,onChange:r=>S(r.target.value),placeholder:`Paste Tupperbox JSON here, e.g.:
{
  "tuppers": [
    {
      "name": "Character Name",
      "avatar_url": "https://...",
      "description": "Character bio..."
    }
  ]
}`,style:{width:"100%",minHeight:"300px",padding:"0.75rem",borderRadius:"6px",border:"1px solid var(--border-color)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.85rem",fontFamily:"monospace",resize:"vertical",marginBottom:"1rem"}}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:()=>{o(!1),S("")},disabled:u,style:{padding:"0.5rem 1rem",background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"none",borderRadius:"6px",cursor:u?"not-allowed":"pointer",opacity:u?.5:1},children:"Cancel"}),e.jsx("button",{onClick:Ze,disabled:u||!s.trim(),style:{padding:"0.5rem 1rem",background:u||!s.trim()?"var(--bg-tertiary)":"var(--accent-color)",color:u||!s.trim()?"var(--text-secondary)":"white",border:"none",borderRadius:"6px",cursor:u||!s.trim()?"not-allowed":"pointer",fontWeight:500},children:u?"Importing...":"Import Characters"})]})]})})]})}function jr(){const{theme:l,setThemeMode:I,setAccentColor:R}=rr(),[i,j]=t.useState(null),[A,b]=t.useState({connected:!1}),[f,a]=t.useState({username:"",password:""}),[k,O]=t.useState(!1),[m,J]=t.useState(!1),[B,oe]=t.useState(!1),[D,se]=t.useState(!1),[g,C]=t.useState(null);t.useEffect(()=>{w()},[]);const w=async()=>{try{const n=await h.get("/auth/me");j(n.data.user),b({connected:n.data.user.pathCompanionConnected||!1,username:n.data.user.pathCompanionUsername})}catch(n){console.error("Failed to load connection status:",n)}},Y=async n=>{var x,d;n.preventDefault(),O(!0),C(null);try{await h.post("/auth/pathcompanion/connect",f),await w(),a({username:"",password:""}),C({type:"success",text:"Successfully connected to PathCompanion! You can now import your characters from the Character Sheets tab."})}catch(M){C({type:"error",text:((d=(x=M.response)==null?void 0:x.data)==null?void 0:d.error)||"Failed to connect. Check your credentials."})}finally{O(!1)}},z=async()=>{if(confirm("Are you sure you want to disconnect your PathCompanion account?")){J(!0),C(null);try{await h.post("/auth/pathcompanion/disconnect"),await w(),C({type:"success",text:"PathCompanion account disconnected."})}catch{C({type:"error",text:"Failed to disconnect. Please try again."})}finally{J(!1)}}},U=async()=>{var n,x;if(confirm("This will log you out on all devices. You will need to log in again. Continue?")){oe(!0),C(null);try{const d=await h.post("/auth/logout-all-devices");C({type:"success",text:`Successfully logged out ${d.data.devicesLoggedOut} device(s). Redirecting to login...`}),setTimeout(()=>{window.location.href="/"},2e3)}catch(d){C({type:"error",text:((x=(n=d.response)==null?void 0:n.data)==null?void 0:x.error)||"Failed to logout all devices"}),oe(!1)}}},T=async()=>{var n,x;se(!0),C(null);try{const d=await h.post("/stripe/create-portal-session");window.location.href=d.data.url}catch(d){C({type:"error",text:((x=(n=d.response)==null?void 0:n.data)==null?void 0:x.error)||"Failed to open billing portal"}),se(!1)}},le=async()=>{var n,x;C(null);try{const d=await h.post("/stripe/create-checkout-session");window.location.href=d.data.url}catch(d){C({type:"error",text:((x=(n=d.response)==null?void 0:n.data)==null?void 0:x.error)||"Failed to start checkout"})}};return e.jsxs("div",{className:"settings-container",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx(Ae,{size:32}),e.jsx("h1",{children:"Settings"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("section",{className:"settings-section",children:[e.jsxs("h2",{children:[e.jsx(yr,{size:24,style:{verticalAlign:"middle",marginRight:"0.5rem"}}),"Appearance"]}),e.jsx("p",{className:"section-description",children:"Customize the look and feel of Warden with your preferred theme and accent color."}),e.jsxs("div",{className:"appearance-controls",children:[e.jsxs("div",{className:"theme-mode-selector",children:[e.jsx("label",{className:"theme-label",children:"Theme Mode"}),e.jsxs("div",{className:"mode-buttons",children:[e.jsxs("button",{className:`mode-button ${l.mode==="light"?"active":""}`,onClick:()=>I("light"),"aria-label":"Light mode",children:[e.jsx(Je,{size:20}),e.jsx("span",{children:"Light"})]}),e.jsxs("button",{className:`mode-button ${l.mode==="dark"?"active":""}`,onClick:()=>I("dark"),"aria-label":"Dark mode",children:[e.jsx(Ue,{size:20}),e.jsx("span",{children:"Dark"})]})]})]}),e.jsxs("div",{className:"accent-color-selector",children:[e.jsx("label",{className:"theme-label",children:"Accent Color"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("input",{type:"color",value:l.accentColor,onChange:n=>{const x=n.target.value;/^#[0-9A-Fa-f]{6}$/.test(x)&&R(x)},style:{width:"60px",height:"40px",border:"2px solid var(--border-color)",borderRadius:"8px",cursor:"pointer",padding:"2px"}}),e.jsx("input",{type:"text",value:l.accentColor,onChange:n=>{const x=n.target.value;(/^#[0-9A-Fa-f]{0,6}$/.test(x)||x==="")&&R(x)},onBlur:n=>{/^#[0-9A-Fa-f]{6}$/.test(n.target.value)||R(l.accentColor)},placeholder:"#6366f1",style:{flex:1,maxWidth:"120px",padding:"0.5rem 0.75rem",border:"1px solid var(--border-color)",borderRadius:"6px",fontSize:"0.9rem",fontFamily:"monospace",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),e.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Choose any color"})]})]})]})]}),e.jsxs("section",{className:"settings-section",children:[e.jsx("h2",{children:"PathCompanion Integration"}),e.jsx("p",{className:"section-description",children:"Connect your PathCompanion account to automatically import and sync your characters."}),g&&e.jsx("div",{className:`message ${g.type}`,children:g.text}),A.connected?e.jsxs("div",{className:"connection-status connected",children:[e.jsx("div",{className:"status-icon",children:e.jsx(We,{size:24})}),e.jsxs("div",{className:"status-info",children:[e.jsx("div",{className:"status-label",children:"Connected"}),e.jsx("div",{className:"status-value",children:A.username})]}),e.jsx("button",{className:"button danger",onClick:z,disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(be,{size:18,className:"spinner"}),"Disconnecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(br,{size:18}),"Disconnect"]})})]}):e.jsx("div",{className:"connection-form",children:e.jsxs("form",{onSubmit:Y,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pc-username",children:"PathCompanion Username or Email"}),e.jsx("input",{id:"pc-username",type:"text",value:f.username,onChange:n=>a(x=>({...x,username:n.target.value})),placeholder:"Enter username or email",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pc-password",children:"PathCompanion Password"}),e.jsx("input",{id:"pc-password",type:"password",value:f.password,onChange:n=>a(x=>({...x,password:n.target.value})),placeholder:"Enter password",required:!0})]}),e.jsx("button",{type:"submit",className:"button primary",disabled:k||!f.username||!f.password,children:k?e.jsxs(e.Fragment,{children:[e.jsx(be,{size:18,className:"spinner"}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{size:18}),"Connect PathCompanion Account"]})})]})})]}),e.jsxs("section",{className:"settings-section",children:[e.jsxs("h2",{children:[e.jsx(Me,{size:24,style:{verticalAlign:"middle",marginRight:"0.5rem"}}),"Billing & Subscription"]}),e.jsx("p",{className:"section-description",children:"Manage your subscription tier and billing details."}),g&&e.jsx("div",{className:`message ${g.type}`,children:g.text}),e.jsxs("div",{className:"subscription-info",children:[e.jsxs("div",{className:"tier-badge",style:{background:(i==null?void 0:i.subscriptionTier)==="rp"?"linear-gradient(135deg, #9333ea, #ec4899)":"#64748b"},children:[e.jsx("span",{style:{fontSize:"1.5rem"},children:(i==null?void 0:i.subscriptionTier)==="rp"?"‚≠ê":"üéØ"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.875rem",opacity:.9},children:"Current Tier"}),e.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700},children:(i==null?void 0:i.subscriptionTier)==="rp"?"RP Tier":"Free Tier"})]})]}),(i==null?void 0:i.subscriptionTier)==="rp"?e.jsxs("div",{className:"billing-actions",children:[e.jsxs("p",{style:{margin:"0 0 1rem 0",color:"var(--text-secondary)"},children:["Status: ",e.jsx("strong",{children:(i==null?void 0:i.stripeSubscriptionStatus)==="active"?"‚úì Active":(i==null?void 0:i.stripeSubscriptionStatus)||"Unknown"})]}),e.jsx("button",{className:"button primary",onClick:T,disabled:D||!(i!=null&&i.stripeCustomerId),children:D?e.jsxs(e.Fragment,{children:[e.jsx(be,{size:18,className:"spinner"}),"Loading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Me,{size:18}),"Manage Subscription"]})}),e.jsx("p",{style:{margin:"1rem 0 0 0",fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Update payment method, view invoices, or cancel your subscription"})]}):e.jsxs("div",{className:"billing-actions",children:[e.jsx("p",{style:{margin:"0 0 1rem 0",color:"var(--text-secondary)"},children:"Upgrade to unlock RP Prompts, Tropes, Daily Scheduling, and Discord Commands"}),e.jsxs("button",{className:"button primary",onClick:le,style:{background:"linear-gradient(135deg, #9333ea, #ec4899)"},children:[e.jsx(Me,{size:18}),"Upgrade to RP Tier"]})]})]})]}),e.jsxs("section",{className:"settings-section",children:[e.jsxs("h2",{children:[e.jsx(gr,{size:24,style:{verticalAlign:"middle",marginRight:"0.5rem"}}),"Security"]}),e.jsx("p",{className:"section-description",children:"Manage your account security and active sessions across devices."}),g&&e.jsx("div",{className:`message ${g.type}`,children:g.text}),e.jsxs("div",{className:"security-action",children:[e.jsxs("div",{className:"action-info",children:[e.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.125rem"},children:"Logout All Devices"}),e.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--text-secondary)"},children:"End all active sessions on all devices. You'll need to log in again on each device."})]}),e.jsx("button",{className:"button danger",onClick:U,disabled:B,children:B?e.jsxs(e.Fragment,{children:[e.jsx(be,{size:18,className:"spinner"}),"Logging out..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{size:18}),"Logout All Devices"]})})]})]})]}),e.jsx("style",{children:`
        .settings-container {
          padding: 2rem;
          max-width: 800px;
          margin: 0 auto;
        }

        .settings-header {
          display: flex;
          align-items: center;
          gap: 1rem;
          margin-bottom: 2rem;
        }

        .settings-header h1 {
          margin: 0;
          font-size: 2rem;
        }

        .settings-content {
          display: flex;
          flex-direction: column;
          gap: 2rem;
        }

        .settings-section {
          background-color: var(--bg-secondary);
          border: 1px solid var(--border-color);
          border-radius: 12px;
          padding: 2rem;
        }

        .settings-section h2 {
          margin: 0 0 0.5rem 0;
          font-size: 1.5rem;
        }

        .section-description {
          margin: 0 0 1.5rem 0;
          color: var(--text-secondary, #718096);
        }

        .message {
          padding: 1rem;
          border-radius: 8px;
          margin-bottom: 1.5rem;
          font-weight: 500;
        }

        .message.success {
          background-color: var(--accent-light);
          color: var(--accent-color);
          border: 1px solid var(--accent-color);
        }

        .message.error {
          background-color: #fef2f2;
          color: #991b1b;
          border: 1px solid #fecaca;
        }

        .connection-status {
          display: flex;
          align-items: center;
          gap: 1rem;
          padding: 1.5rem;
          border-radius: 8px;
          border: 2px solid var(--border-color, #e2e8f0);
        }

        .connection-status.connected {
          border-color: var(--accent-color);
          background-color: var(--accent-light);
        }

        .status-icon {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 48px;
          height: 48px;
          border-radius: 50%;
          background-color: var(--accent-color);
          color: var(--accent-text);
        }

        .status-info {
          flex: 1;
        }

        .status-label {
          font-size: 0.875rem;
          color: var(--text-secondary, #718096);
          margin-bottom: 0.25rem;
        }

        .status-value {
          font-weight: 600;
          font-size: 1.125rem;
        }

        .connection-form {
          max-width: 400px;
        }

        .form-group {
          margin-bottom: 1rem;
        }

        .form-group label {
          display: block;
          margin-bottom: 0.5rem;
          font-weight: 500;
        }

        .form-group input {
          width: 100%;
          padding: 0.75rem;
          border: 1px solid var(--border-color, #e2e8f0);
          border-radius: 6px;
          font-size: 1rem;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--accent-color);
          box-shadow: 0 0 0 3px var(--accent-light);
        }

        .button {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.75rem 1.5rem;
          border: none;
          border-radius: 6px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s;
          font-size: 1rem;
        }

        .button.primary {
          background-color: var(--accent-color);
          color: var(--accent-text);
        }

        .button.primary:hover:not(:disabled) {
          background-color: var(--accent-hover);
          transform: translateY(-2px);
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .button.danger {
          background-color: #ef4444;
          color: white;
        }

        .button.danger:hover:not(:disabled) {
          background-color: #dc2626;
          transform: translateY(-2px);
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none !important;
        }

        .spinner {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }

        /* Appearance Controls */
        .appearance-controls {
          display: flex;
          flex-direction: column;
          gap: 2rem;
        }

        .theme-mode-selector,
        .accent-color-selector {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }

        .theme-label {
          font-weight: 600;
          font-size: 0.95rem;
          color: var(--text-primary);
        }

        .mode-buttons {
          display: flex;
          gap: 1rem;
        }

        .mode-button {
          flex: 1;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 0.5rem;
          padding: 1rem;
          background: var(--bg-secondary);
          border: 2px solid var(--border-color);
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s;
          color: var(--text-primary);
          font-size: 0.9rem;
          font-weight: 500;
        }

        .mode-button:hover {
          background: var(--hover-bg);
          transform: translateY(-2px);
        }

        .mode-button.active {
          border-color: var(--accent-color);
          background: var(--accent-light);
          color: var(--accent-color);
        }

        /* Security Section */
        .security-action {
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          gap: 2rem;
          padding: 1.5rem;
          border-radius: 8px;
          border: 1px solid var(--border-color);
          background: var(--bg-primary);
        }

        .action-info {
          flex: 1;
        }

        /* Billing Section */
        .subscription-info {
          display: flex;
          flex-direction: column;
          gap: 1.5rem;
        }

        .tier-badge {
          display: flex;
          align-items: center;
          gap: 1rem;
          padding: 1.5rem;
          border-radius: 12px;
          color: white;
          font-weight: 600;
        }

        .billing-actions {
          padding: 1.5rem;
          border: 1px solid var(--border-color);
          border-radius: 8px;
          background: var(--bg-primary);
        }
      `})]})}function kr(){const[l,I]=t.useState(null),[R,i]=t.useState(!1),[j,A]=t.useState(!1);t.useEffect(()=>{b();const m=setInterval(b,60*60*1e3);return()=>clearInterval(m)},[]);const b=async()=>{try{const m=await h.get("/system/password-rotation-status");I(m.data)}catch(m){console.error("Failed to check password rotation status:",m)}},f=async()=>{if(confirm("Have you rotated the AWS RDS database password in AWS Secrets Manager?")){A(!0);try{await h.post("/system/record-password-rotation"),alert("Password rotation recorded! Next rotation due in 90 days."),await b(),i(!0)}catch(m){console.error("Failed to record rotation:",m),alert("Failed to record password rotation")}finally{A(!1)}}};if(!l||R||!l.needsRotation&&!l.overdue)return null;const a=l.overdue,k=a?"var(--accent-secondary)":"var(--accent-color)",O=a?sr:ir;return e.jsxs("div",{style:{background:k,color:"var(--text-primary)",padding:"0.75rem 1rem",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem",borderBottom:"1px solid var(--border-color)",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flex:1},children:[e.jsx(O,{size:20}),e.jsxs("div",{children:[e.jsx("strong",{children:a?"‚ö†Ô∏è Database Password Rotation Overdue!":"üîî Database Password Rotation Needed"}),e.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginTop:"0.25rem"},children:a?`Password rotation is overdue by ${Math.abs(l.daysUntilRotation)} days. Please rotate immediately.`:`Password rotation needed in ${l.daysUntilRotation} days. Rotate your AWS RDS password soon.`})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[e.jsx("button",{onClick:f,disabled:j,style:{padding:"0.5rem 1rem",background:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",cursor:j?"not-allowed":"pointer",fontWeight:"bold",opacity:j?.6:1},children:j?"Recording...":"I Rotated It"}),e.jsx("a",{href:"https://console.aws.amazon.com/rds/",target:"_blank",rel:"noopener noreferrer",style:{padding:"0.5rem 1rem",background:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",textDecoration:"none",fontWeight:"bold"},children:"Open AWS RDS Console"}),e.jsx("button",{onClick:()=>i(!0),style:{background:"transparent",border:"none",color:"var(--text-primary)",cursor:"pointer",padding:"0.25rem"},title:"Dismiss (will show again next time)",children:e.jsx(me,{size:20})})]})]})}const F=({size:l="md",color:I="#9b59b6",message:R})=>{const j={sm:20,md:40,lg:60}[l],A={width:j,height:j,border:`${j/10}px solid rgba(155, 89, 182, 0.2)`,borderTop:`${j/10}px solid ${I}`,borderRadius:"50%",animation:"spin 1s linear infinite"},b={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"};return e.jsxs("div",{style:b,children:[e.jsx("div",{style:A}),R&&e.jsx("p",{style:{color:"#666",fontSize:"0.875rem",margin:0},children:R}),e.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},wr=t.lazy(()=>L(()=>import("./Editor-CnvozhSP.js"),__vite__mapDeps([0,1,2,3,4,5]))),Sr=t.lazy(()=>L(()=>import("./FileManager-v2GMjy71.js"),__vite__mapDeps([6,1,2,5,7,8]))),Cr=t.lazy(()=>L(()=>import("./CharacterBio-DaA3Sop7.js"),__vite__mapDeps([9,1,2,10,3,4,11,12,13,14,8,15]))),zr=t.lazy(()=>L(()=>import("./CharacterMemories-Cv9GziCu.js"),__vite__mapDeps([16,1,2,13]))),Tr=t.lazy(()=>L(()=>import("./CharacterAnalytics-nNoHwjHR.js"),__vite__mapDeps([17,1,2,15,18,12]))),Mr=t.lazy(()=>L(()=>import("./DiscordCommands-Co4uvjOb.js"),__vite__mapDeps([19,1,2,14,20,18]))),Ir=t.lazy(()=>L(()=>import("./KnowledgeBase-BCzbeJKP.js"),__vite__mapDeps([21,1,2,10,3,4,11,15,20,7]))),Rr=t.lazy(()=>L(()=>import("./PromptsTropes-CGit5AJU.js"),__vite__mapDeps([22,1,2]))),Ar=t.lazy(()=>L(()=>import("./StatsDashboard-DzcG_mmg.js"),__vite__mapDeps([23,1,2,4]))),Br=t.lazy(()=>L(()=>import("./HallOfFameGallery-DIVGufNH.js"),__vite__mapDeps([24,1,2]))),Dr=t.lazy(()=>L(()=>import("./AdminPanel-UQl3ijnN.js"),__vite__mapDeps([25,1,2,14]))),Pr=t.lazy(()=>L(()=>import("./DiscordBotInvite-CxE2KP8J.js"),__vite__mapDeps([26,1,2])));function Er({user:l,onLogout:I}){var ue;const{showToast:R,showError:i}=tr(),[j,A]=t.useState([]),[b,f]=t.useState(null),[a,k]=t.useState(null),[O,m]=t.useState(!1),[J,B]=t.useState(!1),[oe,D]=t.useState(!1),[se,g]=t.useState(!1),[C,w]=t.useState(!1),[Y,z]=t.useState(!1),[U,T]=t.useState(!1),[le,n]=t.useState(!1),[x,d]=t.useState(!1),[M,K]=t.useState("bio"),[_,Z]=t.useState(!1),[$,W]=t.useState(null),[N,je]=t.useState(()=>localStorage.getItem("theme")||"light"),H=async(o,s="ability",S)=>{if(a)try{const u=await h.post(`/characters/${a.id}/roll`,{stat:o,rollType:s,skillName:S});W(u.data),R("info",`Rolled ${o}: ${u.data.total}`),setTimeout(()=>W(null),5e3)}catch(u){i(u,"Failed to roll dice")}},ke=o=>{f(o),m(!1),B(!1),D(!1),g(!1),w(!1),z(!1),T(!1),n(!1),d(!1),d(!1)},ne=o=>{k(o),f(null),m(!1),B(!1),D(!1),w(!1),z(!1),T(!1),g(!1),d(!1),Z(!1)},G=async()=>{if(a)try{const o=await h.get(`/characters/${a.id}`);k(o.data)}catch(o){i(o,"Failed to reload character")}};t.useEffect(()=>{E()},[]),t.useEffect(()=>{document.documentElement.setAttribute("data-theme",N),localStorage.setItem("theme",N)},[N]);const ie=()=>{je(o=>o==="light"?"dark":"light")},E=async o=>{try{const s=await h.get("/documents",{params:{parentId:o}});A(s.data)}catch(s){console.error("Error loading documents:",s)}},xe=async()=>{try{await h.post("/auth/logout"),I()}catch(o){console.error("Logout error:",o)}};return e.jsxs("div",{style:{display:"flex",height:"100vh",overflow:"hidden"},children:[e.jsx(vr,{documents:j,onSelectDocument:ke,onSelectCharacter:ne,onRefresh:E,currentDocument:b,currentCharacter:a,user:l,onShowFileManager:()=>{D(!0),m(!1),B(!1),w(!1),z(!1),T(!1),g(!1),n(!1),d(!1),f(null),k(null)},onShowKnowledgeBase:()=>{g(!0),m(!1),B(!1),w(!1),z(!1),T(!1),D(!1),n(!1),d(!1),f(null),k(null)},onShowStats:()=>{z(!0),m(!1),B(!1),w(!1),g(!1),T(!1),D(!1),n(!1),d(!1),f(null),k(null)},onShowSettings:()=>{m(!0),B(!1),w(!1),z(!1),T(!1),g(!1),D(!1),n(!1),d(!1),f(null),k(null)},onShowDiscordCommands:()=>{B(!0),m(!1),w(!1),z(!1),T(!1),g(!1),D(!1),n(!1),d(!1),f(null),k(null)},onShowPromptsTropes:()=>{w(!0),m(!1),B(!1),z(!1),T(!1),g(!1),D(!1),n(!1),d(!1),f(null),k(null)},onShowHallOfFame:()=>{T(!0),m(!1),B(!1),w(!1),z(!1),g(!1),D(!1),n(!1),d(!1),f(null),k(null)},onShowAdminPanel:()=>{n(!0),m(!1),B(!1),w(!1),z(!1),g(!1),D(!1),T(!1),d(!1),f(null),k(null)},onShowBotInvite:()=>{d(!0),m(!1),B(!1),w(!1),z(!1),g(!1),D(!1),T(!1),n(!1),d(!1),f(null),k(null)},onLogout:xe,theme:N,toggleTheme:ie}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginLeft:"300px"},children:[e.jsx(kr,{}),e.jsx("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:O?e.jsx("div",{style:{flex:1,overflow:"auto"},children:e.jsx(jr,{})}):J?e.jsx("div",{style:{flex:1,overflow:"auto"},children:e.jsx(t.Suspense,{fallback:e.jsx(F,{}),children:e.jsx(Mr,{})})}):oe?e.jsx("div",{style:{flex:1,overflow:"auto"},children:e.jsx(t.Suspense,{fallback:e.jsx(F,{}),children:e.jsx(Sr,{})})}):se?e.jsx("div",{style:{flex:1,overflow:"auto"},children:e.jsx(t.Suspense,{fallback:e.jsx(F,{}),children:e.jsx(Ir,{})})}):C?e.jsx("div",{style:{flex:1,overflow:"auto"},children:e.jsx(t.Suspense,{fallback:e.jsx(F,{}),children:e.jsx(Rr,{user:l})})}):Y?e.jsx("div",{style:{flex:1,overflow:"auto"},children:e.jsx(t.Suspense,{fallback:e.jsx(F,{}),children:e.jsx(Ar,{})})}):U?e.jsx("div",{style:{flex:1,overflow:"auto"},children:e.jsx(t.Suspense,{fallback:e.jsx(F,{}),children:e.jsx(Br,{})})}):le?e.jsx("div",{style:{flex:1,overflow:"auto"},children:e.jsx(t.Suspense,{fallback:e.jsx(F,{}),children:e.jsx(Dr,{})})}):x?e.jsx("div",{style:{flex:1,overflow:"auto"},children:e.jsx(t.Suspense,{fallback:e.jsx(F,{}),children:e.jsx(Pr,{})})}):e.jsxs(e.Fragment,{children:[a&&e.jsx("div",{style:{flex:_?"0 0 auto":"1",width:"auto",minWidth:_?"auto":0,maxWidth:"none",resize:"none",overflow:"auto",padding:_?"0.5rem 1rem":"2rem",borderRight:b?"1px solid var(--border-color)":"none",background:_?"var(--bg-secondary)":"var(--bg-primary)",borderBottom:_?"1px solid var(--border-color)":"none"},children:_?e.jsxs("div",{onClick:()=>Z(!1),style:{display:"flex",alignItems:"center",gap:"1rem",cursor:"pointer",padding:"0.5rem"},title:"Click to expand",children:[e.jsx(Re,{size:20,style:{color:"var(--text-primary)"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold",color:"var(--text-primary)"},children:a.name}),e.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:[a.characterClass," ‚Ä¢ Level ",a.level," ‚Ä¢ Click to expand"]})]})]}):e.jsxs("div",{className:"character-display",style:{fontSize:"0.9rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("h1",{style:{margin:0,color:"var(--text-primary)",fontSize:"1.5rem"},children:a.name}),e.jsxs("p",{style:{color:"var(--text-secondary)",margin:"0.5rem 0 0 0",fontSize:"0.9rem"},children:[a.characterClass&&`${a.characterClass} ‚Ä¢ `,"Level ",a.level]})]}),e.jsx("button",{onClick:()=>Z(!0),style:{padding:"0.5rem",borderRadius:"4px",border:"none",background:"var(--accent-1)",color:"var(--text-primary)",cursor:"pointer"},title:"Collapse character panel",children:e.jsx(me,{size:18})})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",borderBottom:"2px solid var(--border-color)"},children:[e.jsx("button",{onClick:()=>K("bio"),style:{padding:"0.75rem 1.25rem",background:"transparent",border:"none",borderBottom:M==="bio"?"2px solid var(--primary-color)":"2px solid transparent",color:M==="bio"?"var(--primary-color)":"var(--text-secondary)",cursor:"pointer",fontWeight:M==="bio"?"600":"400",marginBottom:"-2px"},children:"Bio"}),e.jsx("button",{onClick:()=>K("memories"),style:{padding:"0.75rem 1.25rem",background:"transparent",border:"none",borderBottom:M==="memories"?"2px solid var(--primary-color)":"2px solid transparent",color:M==="memories"?"var(--primary-color)":"var(--text-secondary)",cursor:"pointer",fontWeight:M==="memories"?"600":"400",marginBottom:"-2px"},children:"üí≠ Memories"}),e.jsx("button",{onClick:()=>K("analytics"),style:{padding:"0.75rem 1.25rem",background:"transparent",border:"none",borderBottom:M==="analytics"?"2px solid var(--primary-color)":"2px solid transparent",color:M==="analytics"?"var(--primary-color)":"var(--text-secondary)",cursor:"pointer",fontWeight:M==="analytics"?"600":"400",marginBottom:"-2px"},children:"üìä Analytics"})]}),M==="bio"?e.jsx(t.Suspense,{fallback:e.jsx(F,{}),children:e.jsx(Cr,{character:a,onUpdate:G,onDelete:()=>{k(null),E()}})}):M==="memories"?e.jsx(t.Suspense,{fallback:e.jsx(F,{}),children:e.jsx(zr,{characterId:a.id,characterName:a.name,guildId:a.guildId})}):e.jsx(t.Suspense,{fallback:e.jsx(F,{}),children:e.jsx(Tr,{character:a})}),$&&e.jsxs("div",{style:{padding:"1rem",marginBottom:"1.5rem",background:"var(--accent-2)",borderRadius:"8px",border:"2px solid var(--accent-1)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:$.rollDescription}),e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--text-primary)"},children:[$.diceRoll," ",$.modifier>=0?"+":"",$.modifier," = ",e.jsx("span",{style:{color:"var(--accent-1)"},children:$.total})]}),$.sentToDiscord&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:"‚úì Sent to Discord"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.75rem",marginBottom:"1.5rem"},children:["strength","dexterity","constitution","intelligence","wisdom","charisma"].map(o=>{var s,S;return e.jsxs("div",{onClick:()=>H(o,"ability"),style:{padding:"0.75rem",borderRadius:"8px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",textAlign:"center",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:u=>{u.currentTarget.style.background="var(--accent-2)",u.currentTarget.style.transform="scale(1.05)"},onMouseLeave:u=>{u.currentTarget.style.background="var(--bg-secondary)",u.currentTarget.style.transform="scale(1)"},title:"Click to roll",children:[e.jsx("div",{style:{fontSize:"0.65rem",textTransform:"uppercase",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:o.substring(0,3)}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--text-primary)"},children:a[o]}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.15rem"},children:[((s=a.modifiers)==null?void 0:s[o])>=0?"+":"",((S=a.modifiers)==null?void 0:S[o])||0]})]},o)})}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("h3",{style:{fontSize:"1rem",marginBottom:"0.75rem",color:"var(--text-primary)"},children:"Combat"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem"},children:[e.jsxs("div",{style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px",border:"1px solid var(--border-color)"},children:[e.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:"HP"}),e.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--text-primary)"},children:[a.currentHp||0,"/",a.maxHp||0]}),(a.tempHp||0)>0&&e.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--accent-1)",marginTop:"0.15rem"},children:["+",a.tempHp," temp"]})]}),e.jsxs("div",{style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px",border:"1px solid var(--border-color)"},children:[e.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:"AC"}),e.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--text-primary)"},children:a.armorClass||10}),e.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:"0.15rem"},children:["Touch: ",a.touchAc||10," / FF: ",a.flatFootedAc||10]})]}),e.jsxs("div",{style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px",border:"1px solid var(--border-color)"},children:[e.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:"Initiative"}),e.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--text-primary)"},children:[(a.initiative||0)>=0?"+":"",a.initiative||0]})]}),e.jsxs("div",{style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px",border:"1px solid var(--border-color)"},children:[e.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:"Speed"}),e.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--text-primary)"},children:[a.speed||30," ft"]})]})]})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("h3",{style:{fontSize:"1rem",marginBottom:"0.75rem",color:"var(--text-primary)"},children:"Saving Throws"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.75rem"},children:[e.jsxs("div",{onClick:()=>H("fortitude","save"),style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px",border:"1px solid var(--border-color)",textAlign:"center",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:o=>{o.currentTarget.style.background="var(--accent-2)",o.currentTarget.style.transform="scale(1.05)"},onMouseLeave:o=>{o.currentTarget.style.background="var(--bg-secondary)",o.currentTarget.style.transform="scale(1)"},title:"Click to roll",children:[e.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:"Fort"}),e.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--text-primary)"},children:[(a.fortitudeSave||0)>=0?"+":"",a.fortitudeSave||0]})]}),e.jsxs("div",{onClick:()=>H("reflex","save"),style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px",border:"1px solid var(--border-color)",textAlign:"center",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:o=>{o.currentTarget.style.background="var(--accent-2)",o.currentTarget.style.transform="scale(1.05)"},onMouseLeave:o=>{o.currentTarget.style.background="var(--bg-secondary)",o.currentTarget.style.transform="scale(1)"},title:"Click to roll",children:[e.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:"Ref"}),e.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--text-primary)"},children:[(a.reflexSave||0)>=0?"+":"",a.reflexSave||0]})]}),e.jsxs("div",{onClick:()=>H("will","save"),style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px",border:"1px solid var(--border-color)",textAlign:"center",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:o=>{o.currentTarget.style.background="var(--accent-2)",o.currentTarget.style.transform="scale(1.05)"},onMouseLeave:o=>{o.currentTarget.style.background="var(--bg-secondary)",o.currentTarget.style.transform="scale(1)"},title:"Click to roll",children:[e.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:"Will"}),e.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--text-primary)"},children:[(a.willSave||0)>=0?"+":"",a.willSave||0]})]})]})]}),a.pathCompanionData&&(()=>{try{const s=JSON.parse(a.pathCompanionData).defense||{},S=s.dr&&Object.keys(s.dr).length>0,u=s.sr&&(typeof s.sr=="number"&&s.sr>0||typeof s.sr=="object"&&(s.sr.total>0||s.sr.bonuses&&s.sr.bonuses.length>0)),ce=s.resistances&&Object.keys(s.resistances).length>0,X=s.immunities&&s.immunities.length>0;if(S||u||ce||X)return e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("h3",{style:{fontSize:"1rem",marginBottom:"0.75rem",color:"var(--text-primary)"},children:"Defensive Abilities"}),e.jsxs("div",{style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px",border:"1px solid var(--border-color)"},children:[u&&e.jsxs("div",{style:{marginBottom:"0.5rem"},children:[e.jsx("strong",{style:{color:"var(--text-primary)"},children:"SR:"})," ",e.jsx("span",{style:{color:"var(--text-secondary)"},children:typeof s.sr=="number"?s.sr:s.sr.total||(s.sr.bonuses&&s.sr.bonuses.length>0?`${11+a.level}`:"Yes")})]}),S&&e.jsxs("div",{style:{marginBottom:"0.5rem"},children:[e.jsx("strong",{style:{color:"var(--text-primary)"},children:"DR:"}),Object.entries(s.dr).map(([Q,P])=>{const ee=typeof P=="object"?P.total||0:P;return e.jsxs("div",{style:{marginLeft:"1rem",color:"var(--text-secondary)"},children:[ee,"/",Q]},Q)})]}),ce&&e.jsxs("div",{style:{marginBottom:"0.5rem"},children:[e.jsx("strong",{style:{color:"var(--text-primary)"},children:"Resistances:"}),Object.entries(s.resistances).map(([Q,P])=>{const ee=typeof P=="object"?P.total||0:P;return e.jsxs("div",{style:{marginLeft:"1rem",color:"var(--text-secondary)"},children:[Q," ",ee]},Q)})]}),X&&e.jsxs("div",{children:[e.jsx("strong",{style:{color:"var(--text-primary)"},children:"Immunities:"})," ",e.jsx("span",{style:{color:"var(--text-secondary)"},children:s.immunities.join(", ")})]})]})]})}catch{return null}return null})(),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("h3",{style:{fontSize:"1rem",marginBottom:"0.75rem",color:"var(--text-primary)"},children:"Offense"}),e.jsxs("div",{style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px",border:"1px solid var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",gap:"1.5rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("strong",{style:{color:"var(--text-primary)"},children:"BAB:"})," ",e.jsxs("span",{style:{color:"var(--text-secondary)"},children:[(a.baseAttackBonus||0)>=0?"+":"",a.baseAttackBonus||0]})]}),e.jsxs("div",{children:[e.jsx("strong",{style:{color:"var(--text-primary)"},children:"CMB:"})," ",e.jsxs("span",{style:{color:"var(--text-secondary)"},children:[(a.cmb||0)>=0?"+":"",a.cmb||0]})]}),e.jsxs("div",{children:[e.jsx("strong",{style:{color:"var(--text-primary)"},children:"CMD:"})," ",e.jsx("span",{style:{color:"var(--text-secondary)"},children:a.cmd||10})]})]}),a.weapons&&a.weapons.length>0&&e.jsxs("div",{style:{marginTop:"0.75rem",borderTop:"1px solid var(--border-color)",paddingTop:"0.75rem"},children:[e.jsx("strong",{style:{color:"var(--text-primary)",fontSize:"0.85rem"},children:"Weapons"}),a.weapons.map((o,s)=>e.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"var(--bg-primary)",borderRadius:"4px"},children:[e.jsx("div",{style:{fontWeight:"bold",color:"var(--text-primary)",fontSize:"0.85rem"},children:o.name}),e.jsxs("div",{style:{color:"var(--text-secondary)",fontSize:"0.75rem"},children:[o.attackBonus&&`+${o.attackBonus} `,o.damage&&`(${o.damage})`]})]},s))]})]})]}),(a.feats&&a.feats.length>0||a.specialAbilities&&a.specialAbilities.length>0)&&e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("h3",{style:{fontSize:"1rem",marginBottom:"0.75rem",color:"var(--text-primary)"},children:"Feats & Special Abilities"}),e.jsxs("div",{style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px",border:"1px solid var(--border-color)"},children:[a.feats&&a.feats.length>0&&e.jsxs("div",{style:{marginBottom:((ue=a.specialAbilities)==null?void 0:ue.length)>0?"0.75rem":0},children:[e.jsx("strong",{style:{color:"var(--text-primary)",fontSize:"0.85rem"},children:"Feats"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.5rem"},children:a.feats.map((o,s)=>e.jsx("span",{style:{padding:"0.25rem 0.5rem",background:"var(--bg-primary)",borderRadius:"4px",fontSize:"0.75rem",color:"var(--text-secondary)"},children:o},s))})]}),a.specialAbilities&&a.specialAbilities.length>0&&e.jsxs("div",{children:[e.jsx("strong",{style:{color:"var(--text-primary)",fontSize:"0.85rem"},children:"Special Abilities"}),a.specialAbilities.map((o,s)=>e.jsx("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"var(--bg-primary)",borderRadius:"4px",fontSize:"0.75rem",color:"var(--text-secondary)"},children:o},s))]})]})]}),a.skills&&Object.keys(a.skills).length>0&&e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("h3",{style:{fontSize:"1rem",marginBottom:"0.75rem",color:"var(--text-primary)"},children:"Skills"}),e.jsx("div",{style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px",border:"1px solid var(--border-color)"},children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"0.5rem",fontSize:"0.8rem"},children:Object.entries(a.skills).map(([o,s])=>e.jsxs("div",{onClick:()=>H("","skill",o),style:{display:"contents",cursor:"pointer"},children:[e.jsx("div",{style:{color:"var(--text-primary)",padding:"0.25rem",borderRadius:"4px",transition:"background 0.2s"},onMouseEnter:S=>S.currentTarget.style.background="var(--accent-2)",onMouseLeave:S=>S.currentTarget.style.background="transparent",children:o}),e.jsxs("div",{style:{color:"var(--text-secondary)",fontWeight:"bold",padding:"0.25rem",borderRadius:"4px",transition:"background 0.2s"},onMouseEnter:S=>S.currentTarget.style.background="var(--accent-2)",onMouseLeave:S=>S.currentTarget.style.background="transparent",children:[s.total>=0?"+":"",s.total||0]})]},o))})})]})]})}),b&&!b.isFolder?e.jsx("div",{style:{flex:1,overflow:"auto"},children:e.jsx(t.Suspense,{fallback:e.jsx(F,{}),children:e.jsx(wr,{document:b,onSave:o=>{h.post("/documents/document",{id:b.id,name:b.name,content:o})}})})}):a?null:e.jsx("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",color:"#8e9297"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(dr,{size:64,style:{margin:"0 auto 1rem"}}),e.jsx("p",{children:"Select a document or character to start"})]})})]})})]})]})}const _r=Object.freeze(Object.defineProperty({__proto__:null,default:Er},Symbol.toStringTag,{value:"Module"}));export{nr as B,ir as C,lr as D,cr as E,dr as F,xr as H,be as L,ur as M,yr as P,gr as S,hr as T,Ve as U,me as X,$e as a,he as b,c,fe as d,ve as e,We as f,Re as g,_r as h};
//# sourceMappingURL=Dashboard-CwAWU9Zg.js.map
