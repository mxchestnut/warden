import{r as s,j as e}from"./editor-B5c-jJ5G.js";import{a as b}from"./index-Dyp_sm3x.js";import"./matrix-DowZW4Yz.js";import"./lucide-Do81zF_g.js";function w(){const[n,u]=s.useState(""),[o,p]=s.useState(""),[a,x]=s.useState(""),[i,h]=s.useState(""),[d,t]=s.useState(""),[l,c]=s.useState(!1),g=async r=>{if(r.preventDefault(),t(""),a!==i){t("Passwords do not match");return}if(a.length<8){t("Password must be at least 8 characters");return}if(n.length<3){t("Username must be at least 3 characters");return}c(!0);try{await b.register(n,a,o),window.location.href="/login?registered=true"}catch(m){t(m instanceof Error?m.message:"Registration failed")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-card rounded-lg shadow-lg",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-center",children:"Create your account"}),e.jsx("p",{className:"mt-2 text-center text-muted-foreground",children:"Join Warden - Social Writing & Roleplay Platform"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[d&&e.jsx("div",{className:"bg-destructive/10 border border-destructive text-destructive px-4 py-3 rounded",children:d}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium mb-2",children:"Username *"}),e.jsx("input",{id:"username",type:"text",required:!0,value:n,onChange:r=>u(r.target.value),className:"w-full px-3 py-2 border border-input rounded-md bg-background",placeholder:"Choose a username (min 3 characters)",minLength:3,maxLength:50})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"Email (optional)"}),e.jsx("input",{id:"email",type:"email",value:o,onChange:r=>p(r.target.value),className:"w-full px-3 py-2 border border-input rounded-md bg-background",placeholder:"your@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:"Password *"}),e.jsx("input",{id:"password",type:"password",required:!0,value:a,onChange:r=>x(r.target.value),className:"w-full px-3 py-2 border border-input rounded-md bg-background",placeholder:"Min 8 characters, include uppercase, number, special char",minLength:8}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Must include: uppercase, lowercase, number, and special character"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-2",children:"Confirm Password *"}),e.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:i,onChange:r=>h(r.target.value),className:"w-full px-3 py-2 border border-input rounded-md bg-background",placeholder:"Re-enter your password"})]})]}),e.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-primary-foreground bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50",children:l?"Creating account...":"Create account"}),e.jsx("div",{className:"text-center text-sm",children:e.jsx("a",{href:"/login",className:"text-primary hover:underline",children:"Already have an account? Sign in"})}),e.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:["By registering, you agree to our"," ",e.jsx("a",{href:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms of Service"})]})]})]})})}export{w as Register};
