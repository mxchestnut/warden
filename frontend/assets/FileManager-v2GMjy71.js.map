{"version":3,"file":"FileManager-v2GMjy71.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/folder-open.js","../../../node_modules/lucide-react/dist/esm/icons/grid-3x3.js","../../../node_modules/lucide-react/dist/esm/icons/image.js","../../src/components/LoadingSkeleton.tsx","../../src/components/FileManager.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FolderOpen = createLucideIcon(\"FolderOpen\", [\n  [\n    \"path\",\n    {\n      d: \"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2\",\n      key: \"usdka0\"\n    }\n  ]\n]);\n\nexport { FolderOpen as default };\n//# sourceMappingURL=folder-open.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Grid3x3 = createLucideIcon(\"Grid3x3\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M3 9h18\", key: \"1pudct\" }],\n  [\"path\", { d: \"M3 15h18\", key: \"5xshup\" }],\n  [\"path\", { d: \"M9 3v18\", key: \"fh3hqa\" }],\n  [\"path\", { d: \"M15 3v18\", key: \"14nvp0\" }]\n]);\n\nexport { Grid3x3 as default };\n//# sourceMappingURL=grid-3x3.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Image = createLucideIcon(\"Image\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", ry: \"2\", key: \"1m3agn\" }],\n  [\"circle\", { cx: \"9\", cy: \"9\", r: \"2\", key: \"af1f0g\" }],\n  [\"path\", { d: \"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21\", key: \"1xmnt7\" }]\n]);\n\nexport { Image as default };\n//# sourceMappingURL=image.js.map\n","import { CSSProperties } from 'react';\n\ninterface LoadingSkeletonProps {\n  width?: string;\n  height?: string;\n  borderRadius?: string;\n  count?: number;\n}\n\nconst LoadingSkeleton = ({\n  width = '100%',\n  height = '20px',\n  borderRadius = '4px',\n  count = 1\n}: LoadingSkeletonProps) => {\n  const skeletonStyle: CSSProperties = {\n    width,\n    height,\n    borderRadius,\n    backgroundColor: '#e0e0e0',\n    backgroundImage: 'linear-gradient(90deg, #e0e0e0 0%, #f0f0f0 50%, #e0e0e0 100%)',\n    backgroundSize: '200% 100%',\n    animation: 'shimmer 1.5s infinite',\n  };\n\n  const items = Array.from({ length: count }, (_, i) => (\n    <div key={i} style={{ ...skeletonStyle, marginBottom: count > 1 ? '0.5rem' : '0' }} />\n  ));\n\n  return (\n    <>\n      {items}\n      <style>{`\n        @keyframes shimmer {\n          0% { background-position: -200% 0; }\n          100% { background-position: 200% 0; }\n        }\n      `}</style>\n    </>\n  );\n};\n\nexport default LoadingSkeleton;\n","import { useState, useEffect, useRef } from 'react';\nimport { Upload, FileText, Download, Trash2, Loader, BookOpen, Image as ImageIcon, File, Search, X, Eye, FolderOpen, Grid, List, CheckCircle } from 'lucide-react';\nimport { api } from '../utils/api';\nimport { useToast } from './ToastProvider';\nimport LoadingSkeleton from './LoadingSkeleton';\n\ninterface FileRecord {\n  id: number;\n  fileName: string;\n  originalFileName: string;\n  fileSize: number;\n  mimeType: string;\n  uploadedAt: string;\n  virusScanStatus: string;\n  category?: string;\n  thumbnailUrl?: string;\n}\n\nexport default function FileManager() {\n  const [files, setFiles] = useState<FileRecord[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [uploading, setUploading] = useState(false);\n  const [learning, setLearning] = useState<number | null>(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState<string>('all');\n  const [isDragging, setIsDragging] = useState(false);\n  const [previewFile, setPreviewFile] = useState<FileRecord | null>(null);\n  const [uploadingFiles, setUploadingFiles] = useState<Array<{ name: string; progress: number; status: string }>>([]);\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const dragCounter = useRef(0);\n  const { showToast, showError } = useToast();\n\n  useEffect(() => {\n    loadFiles();\n  }, []);\n\n  const loadFiles = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get('/files');\n      setFiles(response.data.files);\n    } catch (error) {\n      showError(error, 'Failed to load files');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const uploadFile = async (file: File) => {\n    const fileIndex = uploadingFiles.length;\n    setUploadingFiles(prev => [...prev, { name: file.name, progress: 0, status: 'uploading' }]);\n\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      await api.post('/files/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        onUploadProgress: (progressEvent) => {\n          if (progressEvent.total) {\n            const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n            setUploadingFiles(prev => prev.map((f, i) =>\n              i === fileIndex ? { ...f, progress: percentCompleted } : f\n            ));\n          }\n        }\n      });\n\n      setUploadingFiles(prev => prev.map((f, i) =>\n        i === fileIndex ? { ...f, status: 'complete', progress: 100 } : f\n      ));\n\n      return true;\n    } catch (error: any) {\n      setUploadingFiles(prev => prev.map((f, i) =>\n        i === fileIndex ? { ...f, status: 'error' } : f\n      ));\n      return false;\n    }\n  };\n\n  const handleMultipleFiles = async (fileList: FileList | null) => {\n    if (!fileList || fileList.length === 0) return;\n\n    setUploading(true);\n\n    const filesArray = Array.from(fileList);\n    let successCount = 0;\n\n    for (const file of filesArray) {\n      const success = await uploadFile(file);\n      if (success) successCount++;\n    }\n\n    if (successCount === filesArray.length) {\n      showToast('success', `✅ Successfully uploaded ${successCount} file(s)`);\n    } else {\n      showToast('warning', `⚠️ Uploaded ${successCount} of ${filesArray.length} file(s)`);\n    }\n\n    // Clear upload list after 3 seconds\n    setTimeout(() => setUploadingFiles([]), 3000);\n  };\n\n  const handleFileInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    handleMultipleFiles(event.target.files);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  // Drag and drop handlers\n  const handleDragEnter = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    dragCounter.current++;\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n      setIsDragging(true);\n    }\n  };\n\n  const handleDragLeave = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    dragCounter.current--;\n    if (dragCounter.current === 0) {\n      setIsDragging(false);\n    }\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n    dragCounter.current = 0;\n\n    const files = e.dataTransfer.files;\n    handleMultipleFiles(files);\n  };\n\n  const handleDownload = async (file: FileRecord) => {\n    try {\n      const response = await api.get(`/files/${file.id}/download`);\n      const { downloadUrl, fileName } = response.data;\n\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = fileName;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      showToast('success', `Downloaded ${file.originalFileName}`);\n    } catch (error) {\n      showError(error, 'Failed to download file');\n    }\n  };\n\n  const handleDelete = async (file: FileRecord) => {\n    if (!confirm(`Delete \"${file.originalFileName}\"?`)) return;\n\n    try {\n      await api.delete(`/files/${file.id}`);\n      showToast('success', `Deleted ${file.originalFileName}`);\n      await loadFiles();\n    } catch (error) {\n      showError(error, 'Failed to delete file');\n    }\n  };\n\n  const handleLearnFromPDF = async (file: FileRecord) => {\n    setLearning(file.id);\n    try {\n      await api.post(`/files/${file.id}/learn`);\n      showToast('success', 'PDF content learned successfully!');\n    } catch (error: any) {\n      showError(error, 'Failed to learn from PDF');\n    } finally {\n      setLearning(null);\n    }\n  };\n\n  const formatFileSize = (bytes: number): string => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n  };\n\n  const getFileIcon = (file: FileRecord) => {\n    if (file.mimeType.startsWith('image/')) return <ImageIcon size={20} />;\n    if (file.mimeType === 'application/pdf') return <FileText size={20} />;\n    return <File size={20} />;\n  };\n\n  const getFileCategory = (file: FileRecord) => {\n    if (file.category) return file.category;\n    if (file.mimeType.startsWith('image/')) return 'image';\n    if (file.mimeType === 'application/pdf') return 'document';\n    return 'other';\n  };\n\n  // Filter files\n  const filteredFiles = files.filter(file => {\n    const matchesSearch = file.originalFileName.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesCategory = categoryFilter === 'all' || getFileCategory(file) === categoryFilter;\n    return matchesSearch && matchesCategory;\n  });\n\n  const categories = [\n    { value: 'all', label: 'All Files', count: files.length },\n    { value: 'image', label: 'Images', count: files.filter(f => getFileCategory(f) === 'image').length },\n    { value: 'document', label: 'Documents', count: files.filter(f => getFileCategory(f) === 'document').length },\n    { value: 'other', label: 'Other', count: files.filter(f => getFileCategory(f) === 'other').length }\n  ];\n\n  const isImage = (mimeType: string) => mimeType.startsWith('image/');\n  const isPDF = (mimeType: string) => mimeType === 'application/pdf';\n\n  return (\n    <div\n      style={{ padding: '2rem', maxWidth: '1400px', margin: '0 auto' }}\n      onDragEnter={handleDragEnter}\n      onDragOver={handleDragOver}\n      onDragLeave={handleDragLeave}\n      onDrop={handleDrop}\n    >\n      <div style={{ marginBottom: '2rem' }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n          <div>\n            <h1 style={{ margin: 0, color: 'var(--text-primary)', fontSize: '2rem' }}>\n              <FolderOpen size={32} style={{ verticalAlign: 'middle', marginRight: '0.5rem' }} />\n              File Manager\n            </h1>\n            <p style={{ color: 'var(--text-secondary)', margin: '0.5rem 0 0 0' }}>\n              {filteredFiles.length} file{filteredFiles.length !== 1 ? 's' : ''}\n            </p>\n          </div>\n          <div style={{ display: 'flex', gap: '0.5rem' }}>\n            <button\n              onClick={() => setViewMode(viewMode === 'grid' ? 'list' : 'grid')}\n              style={{\n                padding: '0.5rem',\n                borderRadius: '6px',\n                border: '1px solid var(--border-color)',\n                background: 'var(--bg-secondary)',\n                color: 'var(--text-primary)',\n                cursor: 'pointer'\n              }}\n              title={`Switch to ${viewMode === 'grid' ? 'list' : 'grid'} view`}\n            >\n              {viewMode === 'grid' ? <List size={20} /> : <Grid size={20} />}\n            </button>\n          </div>\n        </div>\n\n        {/* Upload Area */}\n        <div style={{\n          position: 'relative',\n          padding: '2rem',\n          borderRadius: '8px',\n          border: isDragging ? '2px dashed var(--accent-color)' : '2px dashed var(--border-color)',\n          background: isDragging ? 'rgba(220, 20, 60, 0.05)' : 'var(--bg-secondary)',\n          textAlign: 'center',\n          marginBottom: '1.5rem',\n          transition: 'all 0.2s'\n        }}>\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            onChange={handleFileInput}\n            multiple\n            disabled={uploading}\n            style={{ display: 'none' }}\n          />\n          <Upload size={48} style={{ color: 'var(--accent-color)', marginBottom: '1rem' }} />\n          <h3 style={{ margin: '0 0 0.5rem 0', color: 'var(--text-primary)' }}>\n            {isDragging ? 'Drop files here' : 'Upload Files'}\n          </h3>\n          <p style={{ color: 'var(--text-secondary)', marginBottom: '1rem' }}>\n            Drag and drop files here, or click to browse\n          </p>\n          <button\n            onClick={() => fileInputRef.current?.click()}\n            disabled={uploading}\n            style={{\n              padding: '0.75rem 1.5rem',\n              borderRadius: '6px',\n              border: 'none',\n              background: uploading ? 'var(--bg-tertiary)' : 'var(--accent-color)',\n              color: uploading ? 'var(--text-secondary)' : 'white',\n              cursor: uploading ? 'not-allowed' : 'pointer',\n              fontWeight: 500,\n              fontSize: '1rem'\n            }}\n          >\n            {uploading ? <><Loader size={18} style={{ animation: 'spin 1s linear infinite', verticalAlign: 'middle' }} /> Uploading...</> : 'Choose Files'}\n          </button>\n        </div>\n\n        {/* Upload Progress */}\n        {uploadingFiles.length > 0 && (\n          <div style={{\n            padding: '1rem',\n            borderRadius: '6px',\n            background: 'var(--bg-secondary)',\n            border: '1px solid var(--border-color)',\n            marginBottom: '1.5rem'\n          }}>\n            <h4 style={{ margin: '0 0 0.75rem 0', color: 'var(--text-primary)' }}>Uploading Files</h4>\n            {uploadingFiles.map((file, idx) => (\n              <div key={idx} style={{ marginBottom: '0.5rem' }}>\n                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.25rem', fontSize: '0.9rem' }}>\n                  <span style={{ color: 'var(--text-primary)' }}>{file.name}</span>\n                  <span style={{ color: file.status === 'complete' ? '#10b981' : file.status === 'error' ? '#ef4444' : 'var(--text-secondary)' }}>\n                    {file.status === 'complete' ? '✓ Complete' : file.status === 'error' ? '✗ Failed' : `${file.progress}%`}\n                  </span>\n                </div>\n                <div style={{ height: '4px', background: 'var(--bg-tertiary)', borderRadius: '2px', overflow: 'hidden' }}>\n                  <div style={{\n                    height: '100%',\n                    width: `${file.progress}%`,\n                    background: file.status === 'error' ? '#ef4444' : file.status === 'complete' ? '#10b981' : 'var(--accent-color)',\n                    transition: 'width 0.3s'\n                  }} />\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Search and Filters */}\n        <div style={{ display: 'flex', gap: '1rem', marginBottom: '1.5rem', flexWrap: 'wrap' }}>\n          <div style={{ flex: 1, minWidth: '200px', position: 'relative' }}>\n            <Search size={18} style={{ position: 'absolute', left: '0.75rem', top: '50%', transform: 'translateY(-50%)', color: 'var(--text-secondary)' }} />\n            <input\n              type=\"text\"\n              placeholder=\"Search files...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              style={{\n                width: '100%',\n                padding: '0.75rem 0.75rem 0.75rem 2.5rem',\n                borderRadius: '6px',\n                border: '1px solid var(--border-color)',\n                background: 'var(--bg-secondary)',\n                color: 'var(--text-primary)',\n                fontSize: '0.95rem'\n              }}\n            />\n          </div>\n          <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n            {categories.map(cat => (\n              <button\n                key={cat.value}\n                onClick={() => setCategoryFilter(cat.value)}\n                style={{\n                  padding: '0.75rem 1rem',\n                  borderRadius: '6px',\n                  border: '1px solid var(--border-color)',\n                  background: categoryFilter === cat.value ? 'var(--accent-color)' : 'var(--bg-secondary)',\n                  color: categoryFilter === cat.value ? 'white' : 'var(--text-primary)',\n                  cursor: 'pointer',\n                  fontWeight: categoryFilter === cat.value ? 600 : 400,\n                  fontSize: '0.9rem'\n                }}\n              >\n                {cat.label} ({cat.count})\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Files Display */}\n      {loading ? (\n        viewMode === 'grid' ? (\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n            gap: '1rem'\n          }}>\n            {Array.from({ length: 6 }).map((_, idx) => (\n              <LoadingSkeleton key={idx} height=\"250px\" borderRadius=\"8px\" />\n            ))}\n          </div>\n        ) : (\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n            {Array.from({ length: 8 }).map((_, idx) => (\n              <LoadingSkeleton key={idx} height=\"60px\" borderRadius=\"6px\" />\n            ))}\n          </div>\n        )\n      ) : filteredFiles.length === 0 ? (\n        <div style={{\n          textAlign: 'center',\n          padding: '4rem 2rem',\n          background: 'var(--bg-secondary)',\n          borderRadius: '8px',\n          border: '1px dashed var(--border-color)'\n        }}>\n          <FileText size={64} style={{ color: 'var(--text-secondary)', marginBottom: '1rem' }} />\n          <h3 style={{ margin: '0 0 0.5rem 0', color: 'var(--text-primary)' }}>No files found</h3>\n          <p style={{ color: 'var(--text-secondary)' }}>\n            {searchQuery || categoryFilter !== 'all' ? 'Try adjusting your filters' : 'Upload your first file to get started'}\n          </p>\n        </div>\n      ) : viewMode === 'grid' ? (\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n          gap: '1rem'\n        }}>\n          {filteredFiles.map((file) => (\n            <div\n              key={file.id}\n              style={{\n                background: 'var(--bg-secondary)',\n                borderRadius: '8px',\n                border: '1px solid var(--border-color)',\n                overflow: 'hidden',\n                cursor: 'pointer',\n                transition: 'transform 0.2s, box-shadow 0.2s'\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.transform = 'translateY(-4px)';\n                e.currentTarget.style.boxShadow = '0 4px 12px rgba(0,0,0,0.1)';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.transform = 'translateY(0)';\n                e.currentTarget.style.boxShadow = 'none';\n              }}\n            >\n              <div\n                style={{\n                  height: '150px',\n                  background: 'var(--bg-tertiary)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  position: 'relative'\n                }}\n                onClick={() => isImage(file.mimeType) || isPDF(file.mimeType) ? setPreviewFile(file) : null}\n              >\n                {isImage(file.mimeType) && file.thumbnailUrl ? (\n                  <img src={file.thumbnailUrl} alt={file.originalFileName} style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\n                ) : (\n                  <div style={{ color: 'var(--text-secondary)' }}>\n                    {getFileIcon(file)}\n                  </div>\n                )}\n                {(isImage(file.mimeType) || isPDF(file.mimeType)) && (\n                  <div style={{\n                    position: 'absolute',\n                    top: '0.5rem',\n                    right: '0.5rem',\n                    background: 'rgba(0,0,0,0.6)',\n                    borderRadius: '50%',\n                    padding: '0.25rem',\n                    color: 'white'\n                  }}>\n                    <Eye size={16} />\n                  </div>\n                )}\n              </div>\n              <div style={{ padding: '1rem' }}>\n                <div style={{\n                  fontSize: '0.9rem',\n                  fontWeight: 500,\n                  color: 'var(--text-primary)',\n                  marginBottom: '0.5rem',\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis',\n                  whiteSpace: 'nowrap'\n                }} title={file.originalFileName}>\n                  {file.originalFileName}\n                </div>\n                <div style={{ fontSize: '0.85rem', color: 'var(--text-secondary)', marginBottom: '0.75rem' }}>\n                  {formatFileSize(file.fileSize)}\n                </div>\n                <div style={{ display: 'flex', gap: '0.25rem', justifyContent: 'space-between' }}>\n                  {isPDF(file.mimeType) && (\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleLearnFromPDF(file);\n                      }}\n                      disabled={learning === file.id}\n                      style={{\n                        flex: 1,\n                        padding: '0.5rem',\n                        borderRadius: '4px',\n                        border: 'none',\n                        background: learning === file.id ? 'var(--bg-tertiary)' : 'var(--accent-color)',\n                        color: learning === file.id ? 'var(--text-secondary)' : 'white',\n                        cursor: learning === file.id ? 'not-allowed' : 'pointer',\n                        fontSize: '0.85rem'\n                      }}\n                      title=\"Learn from PDF\"\n                    >\n                      {learning === file.id ? <Loader size={14} style={{ animation: 'spin 1s linear infinite' }} /> : <BookOpen size={14} />}\n                    </button>\n                  )}\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleDownload(file);\n                    }}\n                    style={{\n                      flex: 1,\n                      padding: '0.5rem',\n                      borderRadius: '4px',\n                      border: '1px solid var(--border-color)',\n                      background: 'var(--bg-secondary)',\n                      color: 'var(--text-primary)',\n                      cursor: 'pointer',\n                      fontSize: '0.85rem'\n                    }}\n                    title=\"Download\"\n                  >\n                    <Download size={14} />\n                  </button>\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleDelete(file);\n                    }}\n                    style={{\n                      flex: 1,\n                      padding: '0.5rem',\n                      borderRadius: '4px',\n                      border: '1px solid #ef4444',\n                      background: 'transparent',\n                      color: '#ef4444',\n                      cursor: 'pointer',\n                      fontSize: '0.85rem'\n                    }}\n                    title=\"Delete\"\n                  >\n                    <Trash2 size={14} />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <div style={{\n          background: 'var(--bg-secondary)',\n          borderRadius: '8px',\n          border: '1px solid var(--border-color)',\n          overflow: 'hidden'\n        }}>\n          <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n            <thead>\n              <tr style={{ background: 'var(--bg-tertiary)', borderBottom: '1px solid var(--border-color)' }}>\n                <th style={{ padding: '1rem', textAlign: 'left', color: 'var(--text-primary)', fontWeight: 600 }}>Name</th>\n                <th style={{ padding: '1rem', textAlign: 'left', color: 'var(--text-primary)', fontWeight: 600 }}>Size</th>\n                <th style={{ padding: '1rem', textAlign: 'left', color: 'var(--text-primary)', fontWeight: 600 }}>Uploaded</th>\n                <th style={{ padding: '1rem', textAlign: 'left', color: 'var(--text-primary)', fontWeight: 600 }}>Status</th>\n                <th style={{ padding: '1rem', textAlign: 'left', color: 'var(--text-primary)', fontWeight: 600 }}>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredFiles.map((file) => (\n                <tr key={file.id} style={{ borderBottom: '1px solid var(--border-color)' }}>\n                  <td style={{ padding: '1rem', color: 'var(--text-primary)' }}>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                      {getFileIcon(file)}\n                      <span>{file.originalFileName}</span>\n                    </div>\n                  </td>\n                  <td style={{ padding: '1rem', color: 'var(--text-secondary)' }}>{formatFileSize(file.fileSize)}</td>\n                  <td style={{ padding: '1rem', color: 'var(--text-secondary)' }}>{new Date(file.uploadedAt).toLocaleDateString()}</td>\n                  <td style={{ padding: '1rem' }}>\n                    <span style={{\n                      padding: '0.25rem 0.5rem',\n                      borderRadius: '4px',\n                      background: file.virusScanStatus === 'clean' ? 'rgba(16, 185, 129, 0.1)' : 'rgba(239, 68, 68, 0.1)',\n                      color: file.virusScanStatus === 'clean' ? '#10b981' : '#ef4444',\n                      fontSize: '0.85rem',\n                      display: 'inline-flex',\n                      alignItems: 'center',\n                      gap: '0.25rem'\n                    }}>\n                      {file.virusScanStatus === 'clean' && <CheckCircle size={14} />}\n                      {file.virusScanStatus}\n                    </span>\n                  </td>\n                  <td style={{ padding: '1rem' }}>\n                    <div style={{ display: 'flex', gap: '0.5rem' }}>\n                      {(isImage(file.mimeType) || isPDF(file.mimeType)) && (\n                        <button\n                          onClick={() => setPreviewFile(file)}\n                          style={{\n                            padding: '0.5rem',\n                            borderRadius: '4px',\n                            border: '1px solid var(--border-color)',\n                            background: 'var(--bg-secondary)',\n                            color: 'var(--text-primary)',\n                            cursor: 'pointer'\n                          }}\n                          title=\"Preview\"\n                        >\n                          <Eye size={16} />\n                        </button>\n                      )}\n                      {isPDF(file.mimeType) && (\n                        <button\n                          onClick={() => handleLearnFromPDF(file)}\n                          disabled={learning === file.id}\n                          style={{\n                            padding: '0.5rem',\n                            borderRadius: '4px',\n                            border: 'none',\n                            background: learning === file.id ? 'var(--bg-tertiary)' : 'var(--accent-color)',\n                            color: learning === file.id ? 'var(--text-secondary)' : 'white',\n                            cursor: learning === file.id ? 'not-allowed' : 'pointer'\n                          }}\n                          title=\"Learn from PDF\"\n                        >\n                          {learning === file.id ? <Loader size={16} style={{ animation: 'spin 1s linear infinite' }} /> : <BookOpen size={16} />}\n                        </button>\n                      )}\n                      <button\n                        onClick={() => handleDownload(file)}\n                        style={{\n                          padding: '0.5rem',\n                          borderRadius: '4px',\n                          border: '1px solid var(--border-color)',\n                          background: 'var(--bg-secondary)',\n                          color: 'var(--text-primary)',\n                          cursor: 'pointer'\n                        }}\n                        title=\"Download\"\n                      >\n                        <Download size={16} />\n                      </button>\n                      <button\n                        onClick={() => handleDelete(file)}\n                        style={{\n                          padding: '0.5rem',\n                          borderRadius: '4px',\n                          border: '1px solid #ef4444',\n                          background: 'transparent',\n                          color: '#ef4444',\n                          cursor: 'pointer'\n                        }}\n                        title=\"Delete\"\n                      >\n                        <Trash2 size={16} />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {/* Preview Modal */}\n      {previewFile && (\n        <div\n          style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            background: 'rgba(0,0,0,0.9)',\n            display: 'flex',\n            flexDirection: 'column',\n            zIndex: 3000\n          }}\n          onClick={() => setPreviewFile(null)}\n        >\n          <div style={{\n            padding: '1rem 2rem',\n            background: 'rgba(0,0,0,0.8)',\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          }}>\n            <h3 style={{ margin: 0, color: 'white' }}>{previewFile.originalFileName}</h3>\n            <button\n              onClick={() => setPreviewFile(null)}\n              style={{\n                background: 'transparent',\n                border: 'none',\n                color: 'white',\n                cursor: 'pointer'\n              }}\n            >\n              <X size={24} />\n            </button>\n          </div>\n          <div\n            style={{\n              flex: 1,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              padding: '2rem'\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            {isImage(previewFile.mimeType) ? (\n              <img\n                src={previewFile.thumbnailUrl || `/api/files/${previewFile.id}/download`}\n                alt={previewFile.originalFileName}\n                style={{ maxWidth: '100%', maxHeight: '100%', objectFit: 'contain' }}\n              />\n            ) : isPDF(previewFile.mimeType) ? (\n              <iframe\n                src={`/api/files/${previewFile.id}/download`}\n                style={{ width: '100%', height: '100%', border: 'none' }}\n                title={previewFile.originalFileName}\n              />\n            ) : null}\n          </div>\n        </div>\n      )}\n\n      <style>{`\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":["FolderOpen","createLucideIcon","Grid3x3","Image","LoadingSkeleton","width","height","borderRadius","count","skeletonStyle","items","_","i","jsx","jsxs","Fragment","FileManager","files","setFiles","useState","loading","setLoading","uploading","setUploading","learning","setLearning","searchQuery","setSearchQuery","categoryFilter","setCategoryFilter","isDragging","setIsDragging","previewFile","setPreviewFile","uploadingFiles","setUploadingFiles","viewMode","setViewMode","fileInputRef","useRef","dragCounter","showToast","showError","useToast","useEffect","loadFiles","response","api","error","uploadFile","file","fileIndex","prev","formData","progressEvent","percentCompleted","f","handleMultipleFiles","fileList","filesArray","successCount","handleFileInput","event","handleDragEnter","handleDragLeave","handleDragOver","handleDrop","handleDownload","downloadUrl","fileName","link","handleDelete","handleLearnFromPDF","formatFileSize","bytes","k","sizes","getFileIcon","ImageIcon","FileText","File","getFileCategory","filteredFiles","matchesSearch","matchesCategory","categories","isImage","mimeType","isPDF","List","Grid","Upload","_a","Loader","idx","Search","cat","e","Eye","BookOpen","Download","Trash2","CheckCircle","X"],"mappings":"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","x_google_ignoreList":[0,1,2]}